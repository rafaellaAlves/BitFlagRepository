@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewData["Title"] = "Campanha";
}
@section Styles {
    <style type="text/css">
        #menu {
            background-image: url('@Url.Content("~/assets/image/home-background-cover.jpeg")');
            background-repeat: no-repeat;
            background-size: cover;
            min-height: 100%;
        }
        .form_error{
            color: red;
            display: none;
        }
    </style>
}
<div class="row">
    <div class="col-md-6">
        <div id="menu" class="card">
            <div class="card-body">
                <div class="row">
                    <div class="col-md-12 text-center">
                      
                        @await Html.PartialAsync("../Shared/_LayoutMenuAdmin.cshtml");
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <div class="row">
                            <div class="col-sm-8">
                                <label style="visibility:hidden" class="control-label">procura</label>
                                <input name="Search" placeholder="Procurar..." type="text" class="form-control " />
                            </div>
                            <div class="col-sm-4">
                                <label style="visibility:hidden" class="control-label">botão</label>
                                <button type="button" href="#" data-toggle="modal" data-target="#modal-new-campaign" class="btn btn-success">Nova Campanha</button>
                            </div>
                        </div>
                    </div>
                    <div class="card-body">
                        <table class="table table-striped table-responsive-sm table-bordered">
                            <thead>

                            </thead>
                            <tbody>
                            </tbody>
                            <tfoot>

                            </tfoot>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@* MODAL NOVA CAMPANHA *@
<div class="modal fade"  id="modal-new-campaign">
    <div class="modal-dialog modal-lg">
        <div class="modal-content" style="width: auto;">
            <div class="modal-header">
                <h4 class="modal-title" id="exampleModalLabel">Nova Campanha</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-12">
                        <form id="FormModalCampaign" method="post" action="@Url.Action("","")">
                            <div class="row">
                                <div class="col-sm-4">
                                    <div class="form-group">
                                        <label class="control-label ">Nome da Campanha</label>
                                        <input name="CampaignName" id="CampaignName" type="text" class="form-control " />
                                        <span class="form_error">Campo obrigatório</span>
                                        <span class="form_error" id="invalid-name">Digite um nome entre 5 e 30 caracteres</span>
                                    </div>
                                </div>

                                <div class="col-sm-4">
                                    <div class="form-group">
                                        <label class="control-label">Data de Início</label>
                                        <input name="StartDate" id="StarDate" type="date" class="form-control " />
                                        <span class="form_error">Campo obrigatório</span>
                                    </div>
                                </div>
                                <div class="col-sm-4">
                                    <div class="form-group">
                                        <label class="control-label ">Quantidade de Meses</label>
                                        <input name="QuantityMonth" id="QuantityMonth" type="number" class="form-control " />
                                        <span class="form_error">Campo obrigatório</span>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label class="control-label">Estado do CRMV</label>
                                        <select name="Crmvstate" id="Crmvstate" class="custom-select">
                                            <option value="">Selecione</option>
                                            @foreach (var item in Services.Utils.UtilsService.GetStates())
                                            {
                                                <option value="@item.Code">@item.Description</option>
                                            }
                                        </select>
                                        <span class="form_error">Campo obrigatório</span>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label class="control-label ">Limite % desconto</label>
                                        <input name="Limit" id="Limit" type="number" class="form-control " />
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-4">
                                    <div class="form-group">
                                        <label class="control-label col-form-label-sm">Tipo da Campanha</label>
                                        <input name="TypeCampaign" id="TypeCampaign" type="text" class="form-control " />
                                        <span class="form_error">Campo obrigatório</span>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label class="control-label">Data de Início da Campanha</label>
                                        <input name="StartCampaign" id="StartCampaign" type="date" class="form-control " />
                                        <span class="form_error">Campo obrigatório</span>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label class="control-label ">Data de Término da Campanha</label>
                                        <input name="FinishCampaign" id="FinishCampaign" type="date" class="form-control " />
                                        <span class="form_error">Campo obrigatório</span>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label class="control-label">Data de Início do Desconto</label>
                                        <input name="StartDiscount" id="StartDiscount" type="date" class="form-control" />
                                        <span class="form_error">Campo obrigatório</span>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label class="control-label">Data de Início do Desconto</label>
                                        <input name="FinishDiscount" id="FinishDiscount" type="date" class="form-control " />
                                        <span class="form_error">Campo obrigatório</span>
                                    </div>
                                </div>
                            </div>
                            <br />
                            <hr />
                            <div class="row">
                                <div class="col-sm-6">
                                    <button type="reset" data-dismiss="modal" class="btn btn-danger">Cancelar</button>
                                </div>
                                <div class="col-sm-6 text-right">
                                    <button type="submit" onclick="return validateFormModal()" class="btn btn-success">Enviar</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@* MODAL ATUALIZAR CAMPANHA *@
<div class="modal fade" id="modal-update-campaign">
    <div class="modal-dialog modal-lg">
        <div class="modal-content" style="width: 100%;">
            <div class="modal-header">
                <h4 class="modal-title" id="exampleModalLabel">Dados da Campanha</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-12">
                        @*<form id="hiddenForm" method="post" action="@Url.Action("","")">*@
                        <div class="row">
                            <div class="col-sm-4">
                                <label class="control-label ">Nome da Campanha</label>
                                <input name="CampaignName" type="text" class="form-control " />
                            </div>
                            <div class="col-sm-4">
                                <label class="control-label ">Data de Início</label>
                                <input name="StartDate" type="date" class="form-control " />
                            </div>
                            <div class="col-sm-4">
                                <label class="control-label ">Quantidade de Meses</label>
                                <input name="QuantityMonth" type="number" class="form-control " />
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <label class="control-label">Estado do CRMV</label>
                                <select name="StateCRMV" class="custom-select">
                                    <option>Selecione</option>
                                    <option value="1">Opção 1</option>
                                    <option value="2">Opção 2</option>
                                    <option value="3">Opção 3</option>
                                    <option value="4">Opção 4</option>
                                </select>
                            </div>
                            <div class="col-sm-6">
                                <label class="control-label ">Limite % desconto</label>
                                <input name="Limit" type="number" class="form-control " />
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-4">
                                <label class="control-label ">Tipo da Campanha</label>
                                <input name="TypeCampaign" type="text" class="form-control" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <label class="control-label">Data de Início da Campanha</label>
                                <input name="StartCampaign" type="date" class="form-control" />
                            </div>
                            <div class="col-sm-6">
                                <label class="control-label col-form-label-sm">Data de Término da Campanha</label>
                                <input name="FinishCampaign" type="date" class="form-control " />
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <label class="control-label ">Data de Início do Desconto</label>
                                <input name="StartDiscount" type="date" class="form-control " />
                            </div>
                            <div class="col-sm-6">
                                <label class="control-label ">Data de Início do Desconto</label>
                                <input name="FinishDiscount" type="date" class="form-control " />
                            </div>
                        </div>
                        <div class="row text-xl-center">
                            <div class="col-sm-6">
                                <label class="control-label">Ativo?</label>
                                <select name="Active" class="custom-select">
                                    <option>Selecione</option>
                                    <option value="1">Sim</option>
                                    <option value="2">Não</option>
                                </select>
                            </div>

                        </div>
                        <br />
                        <hr />
                        <div class="row">
                            <div class="col-sm-6">
                                <button type="reset" data-dismiss="modal" class="btn btn-danger">Cancelar</button>
                            </div>
                            <div class="col-sm-6 text-right">
                                <button type="submit" class="btn btn-success">Enviar</button>
                            </div>
                        </div>
                        @*</form>*@
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
@section Scripts{
<script type="text/javascript" src="~/assets/js/Utils.js"></script>
<script type="text/javascript">
    function validateFormModal() {
        var nome = $('#CampaignName').val();
        var data = $('#StarDate').val();
        var quantidade = $('#QuantityMonth').val();
        var estado = $('#Crmvstate').val();
        var limite = $('#Limit').val();
        var data1 = $('#StartCampaign').val();
        var data2 = $('#StartDiscount').val();
        var data3 = $('#FinishCampaign').val();
        var data4 = $('#FinishDiscount').val();
        var cont = 0;

        //NOME
        if (nome == '') {
            $('#CampaignName').next().show();
            $('#invalid-name').hide();
            focus('#CampaignName');
            cont = cont + 1;
        } else if (nome.length < 5 || nome.length > 30) {
            $('#invalid-name').show();
            $('#CampaignName').next().hide();
            focus('#CampaignName');
            cont = cont + 1;
        } else {
            forceFocus('#CampaignName');
            $('#CampaignName').next().hide();
            $('#invalid-name').hide();
        }

        //INICIO DATA
        if (data == '') {
            $('#StarDate').next().show();
            focus('#StarDate');
            cont = cont + 1;

        } else {
            forceFocus('#StarDate');
            $('#StarDate').next().hide();
        }

        //QUANTIDADE
        if (quantidade == '') {
            $('#QuantityMonth').next().show();
            focus('#QuantityMonth');
            cont = cont + 1;

        } else {
            forceFocus('#QuantityMonth');
            $('#QuantityMonth').next().hide();
        }

        //ESTADO
        if (estado == '') {
            $('#Crmvstate').next().show();
            focus('#Crmvstate');
            cont = cont + 1;

        } else {
            forceFocus('#Crmvstate');
            $('#Crmvstate').next().hide();
        }

        //LIMITE
        if (limite == '') {
            $('#Limit').next().show();
            focus('#Limit');
            cont = cont + 1;

        } else {
            forceFocus('#Limit');
            $('#Limit').next().hide();
        }

        //INICIO CAMPANHA
        if (data1 == '') {
            $('#StartCampaign').next().show();
            focus('#StartCampaign');
            cont = cont + 1;

        } else {
            forceFocus('#StartCampaign');
            $('#StartCampaign').next().hide();
        }

        //INICIO DESCONTO
        if (data2 == '') {
            $('#StartDiscount').next().show();
            focus('#StartDiscount');
            cont = cont + 1;

        } else {
            forceFocus('#StartDiscount');
            $('#StartDiscount').next().hide();
        }

        //FINAL CAMPANHA
        if (data3 == '') {
            $('#FinishCampaign').next().show();
            focus('#FinishCampaign');
            cont = cont + 1;

        } else {
            forceFocus('#FinishCampaign');
            $('#FinishCampaign').next().hide();
        }

        //FINAL DESCONTO
        if (data4 == '') {
            $('#FinishDiscount').next().show();
            focus('#FinishDiscount');
            cont = cont + 1;

        } else {
            forceFocus('#FinishDiscount');
            $('#FinishDiscount').next().hide();
        }

        if (cont = 0) {
            $('#FormModalCampaign').submit();
        } else {
            return false;
        }
    }
  

</script>
 }