<div class="form-group">
    <label class="control-label">@translationFunctions.GetTranslation("Responsável do Requisito Legal", User.FindFirstValue("CultureInfo"))</label>
    <select id="__CompanyLawResponsibleId" multiple="multiple" class="form-control ReportParameter" style="width: 100%;" data-hidden-parameter="CompanyLawResponsibleId"></select>
    <script type="text/javascript">
        if ($('select[data-hidden-parameter="CompanyId"]').length > 0) {
            $('select[data-hidden-parameter="CompanyId"]').change(function () {
                if ($('select[data-hidden-parameter="CompanyId"]').val() != null) {
                    var d = { 'companyIds': $('select[data-hidden-parameter="CompanyId"]').val() };
		            $.ajax({
			            url: '@Url.Action("GetResponsibles", "Report")',
                        type: 'POST',
                        data: d,
			            dataType: 'json',
                        success: function (data) {
                            $('#__CompanyLawResponsibleId').empty();
                            $.each(data, function (i, e) {
                                $('#__CompanyLawResponsibleId').append('<option value="' + e.Id + '">' + e.FirstName + ' ' + e.LastName + '</option>');
                            });
                            $('#__CompanyLawResponsibleId').select2();
                        }
		            });
                }
            });
        }
    </script>
</div>