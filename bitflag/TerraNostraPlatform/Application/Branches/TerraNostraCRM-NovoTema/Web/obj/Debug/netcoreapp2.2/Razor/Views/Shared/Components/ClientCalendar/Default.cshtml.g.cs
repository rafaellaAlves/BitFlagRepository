#pragma checksum "C:\repositorios\bitflag\TerraNostraPlatform\Application\Branches\TerraNostraCRM-NovoTema\Web\Views\Shared\Components\ClientCalendar\Default.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "aeafec27de7f1d03f1553cfa0da749a5bda676ff"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Shared_Components_ClientCalendar_Default), @"mvc.1.0.view", @"/Views/Shared/Components/ClientCalendar/Default.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Views/Shared/Components/ClientCalendar/Default.cshtml", typeof(AspNetCore.Views_Shared_Components_ClientCalendar_Default))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#line 1 "C:\repositorios\bitflag\TerraNostraPlatform\Application\Branches\TerraNostraCRM-NovoTema\Web\Views\_ViewImports.cshtml"
using Web;

#line default
#line hidden
#line 2 "C:\repositorios\bitflag\TerraNostraPlatform\Application\Branches\TerraNostraCRM-NovoTema\Web\Views\_ViewImports.cshtml"
using DTO;

#line default
#line hidden
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"aeafec27de7f1d03f1553cfa0da749a5bda676ff", @"/Views/Shared/Components/ClientCalendar/Default.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"67bc2528675d6df6a8850aaaa1a29809989fa4e2", @"/Views/_ViewImports.cshtml")]
    public class Views_Shared_Components_ClientCalendar_Default : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<DB.Client>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("id", new global::Microsoft.AspNetCore.Html.HtmlString("add-event"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            BeginContext(18, 2, true);
            WriteLiteral("\r\n");
            EndContext();
            BeginContext(152, 2, true);
            WriteLiteral("\r\n");
            EndContext();
#line 6 "C:\repositorios\bitflag\TerraNostraPlatform\Application\Branches\TerraNostraCRM-NovoTema\Web\Views\Shared\Components\ClientCalendar\Default.cshtml"
  
    DTO.Client.ClientCalendarViewModel clientCalendar = null;
    if (ViewBag.ClientTaskId != null)
    {
        if (int.TryParse(ViewBag.ClientTaskId.ToString(), out int clientTaskId))
        {
            clientCalendar = clientCalendarFunctions.GetDataViewModel(clientCalendarFunctions.GetDataByID(clientTaskId));
        }
    }


#line default
#line hidden
            BeginContext(506, 779, true);
            WriteLiteral(@"

<style>
    h2 {
        color: black;
    }

    button.fc-next-button.btn.btn-primary {
    }

    div.card-body {
        width: 100% !important;
        height: 80% !important;
        align-content: center;
    }

    div.card {
        width: 100% !important;
        height: 80% !important;
        align-content: center;
    }

    .fc-day-header {
        background-color: #145388;
        color: white;
    }

    .fc-event.active {
        background-color: #c1be57;
    }

    .select2 {
        width: 100% !important;
    }
</style>

<div id=""calendar""></div>
<div id=""modal-view-event-add"" class=""modal modal-top fade"">
    <div class=""modal-dialog modal-dialog-centered"">
        <div class=""modal-content"">
            ");
            EndContext();
            BeginContext(1285, 5584, false);
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("form", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "aeafec27de7f1d03f1553cfa0da749a5bda676ff5638", async() => {
                BeginContext(1306, 2, true);
                WriteLiteral("\r\n");
                EndContext();
#line 58 "C:\repositorios\bitflag\TerraNostraPlatform\Application\Branches\TerraNostraCRM-NovoTema\Web\Views\Shared\Components\ClientCalendar\Default.cshtml"
                 if (Model != null)
                {

#line default
#line hidden
                BeginContext(1364, 40, true);
                WriteLiteral("                    <input type=\"hidden\"");
                EndContext();
                BeginWriteAttribute("value", " value=\"", 1404, "\"", 1427, 1);
#line 60 "C:\repositorios\bitflag\TerraNostraPlatform\Application\Branches\TerraNostraCRM-NovoTema\Web\Views\Shared\Components\ClientCalendar\Default.cshtml"
WriteAttributeValue("", 1412, Model.ClientId, 1412, 15, false);

#line default
#line hidden
                EndWriteAttribute();
                BeginContext(1428, 35, true);
                WriteLiteral(" id=\"ClientId\" name=\"ClientId\" />\r\n");
                EndContext();
#line 61 "C:\repositorios\bitflag\TerraNostraPlatform\Application\Branches\TerraNostraCRM-NovoTema\Web\Views\Shared\Components\ClientCalendar\Default.cshtml"
                }

#line default
#line hidden
                BeginContext(1482, 3612, true);
                WriteLiteral(@"                <input type=""hidden"" name=""ClientTaskId"" id=""ClientTaskId"" />
                <div class=""modal-body text-left"">
                    <h4 id=""modal-view-event-add-title"">Adicionar Tarefa</h4>
                    <div class=""form-group"">
                        <label>Data da Tarefa</label>
                        <div class=""row"" id=""task-date-area"">
                            <div class=""col-md-5"">
                                <input type='hidden' name=""TaskDate"" id=""TaskDate"">
                                <input type='text' class="" form-control date datepicker"" placeholder=""Data da Tarefa"" id=""task-date"">
                            </div>
                            <div class=""col-1"" style=""font-size:25px;"">-</div>
                            <div class=""col-md-6"">
                                <div class=""row"">
                                    <div class=""col-md-5"">
                                        <input type='text' class=""text-center form-control number2""");
                WriteLiteral(@" placeholder=""Hora"" id=""task-date-hour"" onblur=""validateHour(this)"" name=""_TaskDateHour"">
                                    </div>
                                    <div class=""col-md-2"" style=""font-size:25px;"">:</div>
                                    <div class=""col-md-5"">
                                        <input type='text' class=""text-center form-control number2"" placeholder=""Minuto"" id=""task-date-minute"" onblur=""validateMinute(this)"" name=""_TaskDateMinute"">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class=""form-group"">
                        <label>Data de Aviso</label>
                        <div class=""row"" id=""notice-date-area"">
                            <div class=""col-md-5"">
                                <input type='hidden' name=""NoticeDate"" id=""NoticeDate"">
                                <input type='text' pla");
                WriteLiteral(@"ceholder=""Data de Aviso"" class=""form-control date datepicker"" id=""notice-date"">
                            </div>
                            <div class=""col-1"" style=""font-size:25px;"">-</div>
                            <div class=""col-md-6"">
                                <div class=""row"">
                                    <div class=""col-md-5"">
                                        <input type='text' class=""text-center form-control number2"" placeholder=""Hora"" id=""notice-date-hour"" onblur=""validateHour(this)"" name=""_NoticeDateHour"">
                                    </div>
                                    <div class=""col-md-2"" style=""font-size:25px;"">:</div>
                                    <div class=""col-md-5"">
                                        <input type='text' class=""text-center form-control number2"" placeholder=""Minuto"" id=""notice-date-minute"" onblur=""validateMinute(this)"" name=""_NoticeDateMinute"">
                                    </div>
                             ");
                WriteLiteral(@"   </div>
                            </div>
                        </div>

                    </div>
                    <div class=""form-group"">
                        <label>Assunto</label>
                        <input type=""text"" class=""form-control"" id=""title"" name=""Title"">
                    </div>
                    <div class=""form-group"">
                        <label>Mensagem</label>
                        <textarea class=""form-control"" id=""message"" name=""Message""></textarea>
                    </div>
");
                EndContext();
#line 116 "C:\repositorios\bitflag\TerraNostraPlatform\Application\Branches\TerraNostraCRM-NovoTema\Web\Views\Shared\Components\ClientCalendar\Default.cshtml"
                     if (Model == null)
                    {

#line default
#line hidden
                BeginContext(5158, 197, true);
                WriteLiteral("                        <div class=\"form-group\">\r\n                            <label>Cliente</label>\r\n                            <select class=\"form-control w-100\" id=\"ClientId\" name=\"ClientId\">\r\n");
                EndContext();
#line 121 "C:\repositorios\bitflag\TerraNostraPlatform\Application\Branches\TerraNostraCRM-NovoTema\Web\Views\Shared\Components\ClientCalendar\Default.cshtml"
                                 foreach (var item in await clientFunctions.GetByLoggedUserId(User))
                                {

#line default
#line hidden
                BeginContext(5492, 36, true);
                WriteLiteral("                                    ");
                EndContext();
                BeginContext(5528, 70, false);
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("option", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "aeafec27de7f1d03f1553cfa0da749a5bda676ff12188", async() => {
                    BeginContext(5560, 14, false);
#line 123 "C:\repositorios\bitflag\TerraNostraPlatform\Application\Branches\TerraNostraCRM-NovoTema\Web\Views\Shared\Components\ClientCalendar\Default.cshtml"
                                                              Write(item.FirstName);

#line default
#line hidden
                    EndContext();
                    BeginContext(5574, 1, true);
                    WriteLiteral(" ");
                    EndContext();
                    BeginContext(5576, 13, false);
#line 123 "C:\repositorios\bitflag\TerraNostraPlatform\Application\Branches\TerraNostraCRM-NovoTema\Web\Views\Shared\Components\ClientCalendar\Default.cshtml"
                                                                              Write(item.LastName);

#line default
#line hidden
                    EndContext();
                }
                );
                __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper);
                BeginWriteTagHelperAttribute();
#line 123 "C:\repositorios\bitflag\TerraNostraPlatform\Application\Branches\TerraNostraCRM-NovoTema\Web\Views\Shared\Components\ClientCalendar\Default.cshtml"
                                       WriteLiteral(item.ClientId);

#line default
#line hidden
                __tagHelperStringValueBuffer = EndWriteTagHelperAttribute();
                __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper.Value = __tagHelperStringValueBuffer;
                __tagHelperExecutionContext.AddTagHelperAttribute("value", __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper.Value, global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                EndContext();
                BeginContext(5598, 2, true);
                WriteLiteral("\r\n");
                EndContext();
#line 124 "C:\repositorios\bitflag\TerraNostraPlatform\Application\Branches\TerraNostraCRM-NovoTema\Web\Views\Shared\Components\ClientCalendar\Default.cshtml"
                                }

#line default
#line hidden
                BeginContext(5635, 71, true);
                WriteLiteral("                            </select>\r\n                        </div>\r\n");
                EndContext();
#line 127 "C:\repositorios\bitflag\TerraNostraPlatform\Application\Branches\TerraNostraCRM-NovoTema\Web\Views\Shared\Components\ClientCalendar\Default.cshtml"
                    }

#line default
#line hidden
                BeginContext(5729, 1133, true);
                WriteLiteral(@"                </div>
                <div class=""modal-footer"">
                    <div class=""row w-100 m-0"">
                        <div class=""col-md-4"">
                            <button type=""button"" class=""btn btn-secondary float-left"" data-dismiss=""modal""><i class=""simple-icon-close""></i>&nbsp;Fechar</button>
                        </div>
                        <div class=""col-md-4 text-center"">
                            <button id=""remover"" type=""button"" class=""btn btn-danger"" style=""display:none;"" data-dismiss=""modal""><i class=""simple-icon-trash""></i>&nbsp;Excluir</button>
                        </div>
                        <div class=""col-md-4"">
                            <button id=""salvar"" type=""button"" class=""btn btn-success float-right""><i class=""simple-icon-cloud-upload""></i>&nbsp;Salvar</button>

                            <button id=""alterar"" type=""button"" class=""btn btn-success float-right"" style=""display:none;""><i class=""simple-icon-cloud-upload""></i>&nbsp;Atualiz");
                WriteLiteral("ar</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            ");
                EndContext();
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            EndContext();
            BeginContext(6869, 150, true);
            WriteLiteral("\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<script>\r\n    var calendar, redirectedToDate = false;\r\n\r\n    $(document).ready(function () {\r\n        $.post(\'");
            EndContext();
            BeginContext(7020, 39, false);
#line 153 "C:\repositorios\bitflag\TerraNostraPlatform\Application\Branches\TerraNostraCRM-NovoTema\Web\Views\Shared\Components\ClientCalendar\Default.cshtml"
           Write(Url.Action("GetCalendarData", "Client"));

#line default
#line hidden
            EndContext();
            BeginContext(7059, 51, true);
            WriteLiteral("\', { clientId: $(\'#ClientId\').val(), clientTaskId: ");
            EndContext();
#line 153 "C:\repositorios\bitflag\TerraNostraPlatform\Application\Branches\TerraNostraCRM-NovoTema\Web\Views\Shared\Components\ClientCalendar\Default.cshtml"
                                                                                                            if(clientCalendar != null) {

#line default
#line hidden
            BeginContext(7146, 27, false);
#line 153 "C:\repositorios\bitflag\TerraNostraPlatform\Application\Branches\TerraNostraCRM-NovoTema\Web\Views\Shared\Components\ClientCalendar\Default.cshtml"
                                                                                                                                         Write(clientCalendar.ClientTaskId);

#line default
#line hidden
            EndContext();
#line 153 "C:\repositorios\bitflag\TerraNostraPlatform\Application\Branches\TerraNostraCRM-NovoTema\Web\Views\Shared\Components\ClientCalendar\Default.cshtml"
                                                                                                                                                                                 }else{

#line default
#line hidden
            BeginContext(7192, 4, true);
            WriteLiteral("null");
            EndContext();
#line 153 "C:\repositorios\bitflag\TerraNostraPlatform\Application\Branches\TerraNostraCRM-NovoTema\Web\Views\Shared\Components\ClientCalendar\Default.cshtml"
                                                                                                                                                                                                        }

#line default
#line hidden
            BeginContext(7204, 11, true);
            WriteLiteral(", showAll: ");
            EndContext();
#line 153 "C:\repositorios\bitflag\TerraNostraPlatform\Application\Branches\TerraNostraCRM-NovoTema\Web\Views\Shared\Components\ClientCalendar\Default.cshtml"
                                                                                                                                                                                                                     if(Model != null) {

#line default
#line hidden
            BeginContext(7241, 5, true);
            WriteLiteral("false");
            EndContext();
#line 153 "C:\repositorios\bitflag\TerraNostraPlatform\Application\Branches\TerraNostraCRM-NovoTema\Web\Views\Shared\Components\ClientCalendar\Default.cshtml"
                                                                                                                                                                                                                                                          }else{

#line default
#line hidden
            BeginContext(7265, 4, true);
            WriteLiteral("true");
            EndContext();
#line 153 "C:\repositorios\bitflag\TerraNostraPlatform\Application\Branches\TerraNostraCRM-NovoTema\Web\Views\Shared\Components\ClientCalendar\Default.cshtml"
                                                                                                                                                                                                                                                                                 }

#line default
#line hidden
            BeginContext(7277, 96, true);
            WriteLiteral(" }, function (d) {\r\n            createCallendar(d);\r\n        });\r\n\r\n        _MaskData();\r\n    \r\n");
            EndContext();
#line 159 "C:\repositorios\bitflag\TerraNostraPlatform\Application\Branches\TerraNostraCRM-NovoTema\Web\Views\Shared\Components\ClientCalendar\Default.cshtml"
         if (Model == null)
        {
            

#line default
#line hidden
            BeginContext(7431, 222, true);
            WriteLiteral("\r\n         $(\'#ClientId\').select2({\r\n            \"language\": {\r\n               \"noResults\": function(){\r\n                   return \"Nenhum resultado encontrado\";\r\n               }\r\n            },\r\n        });\r\n            ");
            EndContext();
#line 169 "C:\repositorios\bitflag\TerraNostraPlatform\Application\Branches\TerraNostraCRM-NovoTema\Web\Views\Shared\Components\ClientCalendar\Default.cshtml"
                   
        }

#line default
#line hidden
            BeginContext(7673, 2775, true);
            WriteLiteral(@"       
    });

    $(""#salvar, #alterar"").click(function () {
        if (!validateEvent()) return;

        createOrUpdateEvent();
    });

    $(""#remover"").click(function () {
        removeEvent();
    });

    function validateEvent() {
        $('.text-danger').remove();

        var hasError = false;

        if (IsNullOrWhiteSpace($('#task-date').val())) {
            hasError = true;
            $('#task-date-area').after($('<div>', { class: 'text-danger' }).append('Preencha a data da tarefa'));
        }
        if (IsNullOrWhiteSpace($('#task-date-hour').val())) {
            hasError = true;
            $('#task-date-area').after($('<div>', { class: 'text-danger' }).append('Preencha a hora da tarefa'));
        }
        if (IsNullOrWhiteSpace($('#task-date-minute').val())) {
            hasError = true;
            $('#task-date-area').after($('<div>', { class: 'text-danger' }).append('Preencha o minuto da tarefa'));
        }

        if (!IsNullOrWhiteSpace($('#");
            WriteLiteral(@"notice-date').val())) {
            if (IsNullOrWhiteSpace($('#notice-date-hour').val())) {
                hasError = true;
                $('#notice-date-area').after($('<div>', { class: 'text-danger' }).append('Preencha a hora da notificação'));
            }
            if (IsNullOrWhiteSpace($('#notice-date-minute').val())) {
                hasError = true;
                $('#notice-date-area').after($('<div>', { class: 'text-danger' }).append('Preencha o minuto da notificação'));
            }
        }

        if (!IsNullOrWhiteSpace($('#task-date').val()) && !IsNullOrWhiteSpace($('#notice-date').val())) {
            var taskDate = getDate('task-date');
            var noticeDate = getDate('notice-date');

            if (noticeDate > taskDate) {
                hasError = true;
                $('#notice-date-area').after($('<div>', { class: 'text-danger' }).append('A data de aviso deve ser anterior à data da tarefa'));
            }
        }
        if (IsNullOrWhiteSpace($(");
            WriteLiteral(@"'#title').val())) {
            hasError = true;
            $('#title').after($('<div>', { class: 'text-danger' }).append('Preencha o título'));
        }
        if (IsNullOrWhiteSpace($('#message').val())) {
            hasError = true;
            $('#message').after($('<div>', { class: 'text-danger' }).append('Preencha a descrição'));
        }

        return !hasError;
    }

    function createOrUpdateEvent() {
        $('#modal-view-event-add').modal('hide');
        $('#TaskDate').val(getDate('task-date').toISOString());
        $('#NoticeDate').val(getDate('notice-date').toISOString());

        var data = $('#add-event').serializeArray();
        data.push({ name: 'getAllClients', value: ");
            EndContext();
#line 240 "C:\repositorios\bitflag\TerraNostraPlatform\Application\Branches\TerraNostraCRM-NovoTema\Web\Views\Shared\Components\ClientCalendar\Default.cshtml"
                                                   if(Model != null) {

#line default
#line hidden
            BeginContext(10474, 5, true);
            WriteLiteral("false");
            EndContext();
#line 240 "C:\repositorios\bitflag\TerraNostraPlatform\Application\Branches\TerraNostraCRM-NovoTema\Web\Views\Shared\Components\ClientCalendar\Default.cshtml"
                                                                                        }else{

#line default
#line hidden
            BeginContext(10498, 4, true);
            WriteLiteral("true");
            EndContext();
#line 240 "C:\repositorios\bitflag\TerraNostraPlatform\Application\Branches\TerraNostraCRM-NovoTema\Web\Views\Shared\Components\ClientCalendar\Default.cshtml"
                                                                                                               }

#line default
#line hidden
            BeginContext(10510, 43, true);
            WriteLiteral("});\r\n\r\n        $.ajax({\r\n            url: \'");
            EndContext();
            BeginContext(10554, 43, false);
#line 243 "C:\repositorios\bitflag\TerraNostraPlatform\Application\Branches\TerraNostraCRM-NovoTema\Web\Views\Shared\Components\ClientCalendar\Default.cshtml"
             Write(Url.Action("CreateEventCalendar", "Client"));

#line default
#line hidden
            EndContext();
            BeginContext(10597, 704, true);
            WriteLiteral(@"',
            type: 'POST',
            dataType: 'json',
            data: data,
            success: function (d) {
                if (IsNullOrWhiteSpace($('#ClientTaskId').val())) {
                    $('#calendar').fullCalendar('renderEvent', d);
                } else {
                    $(""#calendar"").fullCalendar('removeEvents');
                    $(""#calendar"").fullCalendar('addEventSource', d);
                }

                if (typeof getNotifications == 'function') getNotifications();
            }
        });
    }


    function removeEvent() {
        if (!confirm('Deseja realmente remover esta tarefa?')) return;

        $.ajax({
            url: '");
            EndContext();
            BeginContext(11302, 42, false);
#line 265 "C:\repositorios\bitflag\TerraNostraPlatform\Application\Branches\TerraNostraCRM-NovoTema\Web\Views\Shared\Components\ClientCalendar\Default.cshtml"
             Write(Url.Action("RemoveCalendarItem", "Client"));

#line default
#line hidden
            EndContext();
            BeginContext(11344, 169, true);
            WriteLiteral("\',\r\n            type: \'POST\',\r\n            dataType: \'json\',\r\n            data: { clientTaskId: $(\'#ClientTaskId\').val(), clientId: $(\'#ClientId\').val(), getAllClients: ");
            EndContext();
#line 268 "C:\repositorios\bitflag\TerraNostraPlatform\Application\Branches\TerraNostraCRM-NovoTema\Web\Views\Shared\Components\ClientCalendar\Default.cshtml"
                                                                                                            if(Model != null) {

#line default
#line hidden
            BeginContext(11539, 5, true);
            WriteLiteral("false");
            EndContext();
#line 268 "C:\repositorios\bitflag\TerraNostraPlatform\Application\Branches\TerraNostraCRM-NovoTema\Web\Views\Shared\Components\ClientCalendar\Default.cshtml"
                                                                                                                                                 }else{

#line default
#line hidden
            BeginContext(11563, 4, true);
            WriteLiteral("true");
            EndContext();
#line 268 "C:\repositorios\bitflag\TerraNostraPlatform\Application\Branches\TerraNostraCRM-NovoTema\Web\Views\Shared\Components\ClientCalendar\Default.cshtml"
                                                                                                                                                                        }

#line default
#line hidden
            BeginContext(11575, 2348, true);
            WriteLiteral(@" },
            success: function (d) {
                $(""#calendar"").fullCalendar('removeEvents');
                $(""#calendar"").fullCalendar('addEventSource', d);
                alert('Tarefa removida com sucesso!');
            }
        });
    }

    function createCallendar(data) {
        calendar = $('#calendar').fullCalendar({
            locale: 'pt-br',
            height: 650,
            themeSystem: 'bootstrap4',
            defaultView: 'month',
            editable: true,
            //buttonIcons: {
            //    prev: 'simple-icon-arrow-left',
            //    next: 'simple-icon-arrow-right',
            //},
            header: {
                left: 'title',
                center: '',
                right: 'today prev,next'
            },
            events: data,
            eventRender: function (event, element) {
                $(element).text(event.title);
                if (event.icon) {
                    element.find("".fc-title"").prepend(""<");
            WriteLiteral(@"i class='fa fa-"" + event.icon + ""'></i>"");
                }

                element.html(event.title);
            },
            dayClick: function (date) {
                $('#task-date').val(date.format('DD/MM/YYYY'));
                $('#ClientTaskId').val('');

                $('#modal-view-event-add-title').text('Adicionar Tarefa');
                $('#remover').hide();
                $('#alterar').hide();
                $('#salvar').show();
                $('#modal-view-event-add').modal('show');

                $('select').prop('disabled', false);
            },
            eventClick: function (event, jsEvent, view) {
                var taskDate = event.start;

                $('#task-date').val(taskDate.format('DD/MM/YYYY'));
                $('#task-date-hour').val(taskDate.format('HH'));
                $('#task-date-minute').val(taskDate.format('mm'));

                if (event.noticeDate != null) {
                    var noticeDate = moment(event.noticeDate);");
            WriteLiteral(@"
                    $('#notice-date').val(noticeDate.format('DD/MM/YYYY'));
                    $('#notice-date-hour').val(noticeDate.format('HH'));
                    $('#notice-date-minute').val(noticeDate.format('mm'));
                }
                $('#ClientId').val(event.clientId);
");
            EndContext();
#line 328 "C:\repositorios\bitflag\TerraNostraPlatform\Application\Branches\TerraNostraCRM-NovoTema\Web\Views\Shared\Components\ClientCalendar\Default.cshtml"
                 if (Model == null)
                {
                    

#line default
#line hidden
            BeginContext(14005, 83, true);
            WriteLiteral("\r\n                $(\'#ClientId\').select2().trigger(\'change\');\r\n                    ");
            EndContext();
#line 332 "C:\repositorios\bitflag\TerraNostraPlatform\Application\Branches\TerraNostraCRM-NovoTema\Web\Views\Shared\Components\ClientCalendar\Default.cshtml"
                           
                }

#line default
#line hidden
            BeginContext(14116, 852, true);
            WriteLiteral(@"                $('#title').val(event._Title);
                $('#message').val(event.description);
                $('#ClientTaskId').val(event.clientTaskId);
                $('#remover').show();
                $('#alterar').show();


                $('#modal-view-event-add-title').text('Atualizar Tarefa');
                $('#modal-view-event-add').modal('show');
                $('#remover').show();
                $('#alterar').show();
                $('#salvar').hide();

                $('select').prop('disabled', true);
            },
            eventDrop: function (event, delta, revertFunc) {
                console.log(event);
                $('#task-date').val(event.start.format('DD/MM/YYYY'));
                $('#notice-date').val(event.noticeDateBR);
                $('#ClientId').val(event.clientId);
");
            EndContext();
#line 354 "C:\repositorios\bitflag\TerraNostraPlatform\Application\Branches\TerraNostraCRM-NovoTema\Web\Views\Shared\Components\ClientCalendar\Default.cshtml"
                 if (Model == null)
                {
                    

#line default
#line hidden
            BeginContext(15050, 83, true);
            WriteLiteral("\r\n                $(\'#ClientId\').select2().trigger(\'change\');\r\n                    ");
            EndContext();
#line 358 "C:\repositorios\bitflag\TerraNostraPlatform\Application\Branches\TerraNostraCRM-NovoTema\Web\Views\Shared\Components\ClientCalendar\Default.cshtml"
                           
                }

#line default
#line hidden
            BeginContext(15161, 860, true);
            WriteLiteral(@"                $('#title').val(event._Title);
                $('#message').val(event.description);
                $('#ClientTaskId').val(event.clientTaskId);

                if (!IsNullOrWhiteSpace(event.noticeDateBR)) {
                    var taskDate = event.start;
                    var noticeDate = moment(event.noticeDateBR, 'DD/MM/YYYY');

                    if (noticeDate > taskDate) {
                        if (!confirm('A data de aviso será realocada para o mesmo dia da tarefa.\nDeseja continuar?')) {
                            revertFunc();
                            return;
                        } else {
                            $('#notice-date').val(event.start.format('DD/MM/YYYY'));
                        }
                    }
                }

                createOrUpdateEvent();
            },
");
            EndContext();
#line 380 "C:\repositorios\bitflag\TerraNostraPlatform\Application\Branches\TerraNostraCRM-NovoTema\Web\Views\Shared\Components\ClientCalendar\Default.cshtml"
             if(clientCalendar != null)
            {
            

#line default
#line hidden
            BeginContext(16095, 160, true);
            WriteLiteral("\r\n            eventAfterAllRender: function () {\r\n                if (!redirectedToDate) {\r\n                    $(\'#calendar\').fullCalendar(\'gotoDate\', moment(\'");
            EndContext();
            BeginContext(16256, 24, false);
#line 385 "C:\repositorios\bitflag\TerraNostraPlatform\Application\Branches\TerraNostraCRM-NovoTema\Web\Views\Shared\Components\ClientCalendar\Default.cshtml"
                                                               Write(clientCalendar._TaskDate);

#line default
#line hidden
            EndContext();
            BeginContext(16280, 186, true);
            WriteLiteral("\', \'DD/MM/YYYY\'));\r\n                }\r\n                redirectedToDate = true;//redirectedToDate fica true para entrar apenas a primeira vez nesta validação\r\n            }\r\n            ");
            EndContext();
#line 389 "C:\repositorios\bitflag\TerraNostraPlatform\Application\Branches\TerraNostraCRM-NovoTema\Web\Views\Shared\Components\ClientCalendar\Default.cshtml"
                   
            }

#line default
#line hidden
            BeginContext(16490, 1727, true);
            WriteLiteral(@"        });

        $('.fa.fa-chevron-left').replaceWith($('<i>', { class: 'simple-icon-arrow-left' }));
        $('.fa.fa-chevron-right').replaceWith($('<i>', { class: 'simple-icon-arrow-right' }));
    }

        //function getDataTask() {

        //}

    $('#modal-view-event-add').on('hidden.bs.modal', function () {
        $('#task-date').val('');
        $('#task-date-hour').val('');
        $('#task-date-minute').val('');
        $('#title').val('');
        $('#message').val('');
        $('#title').val('');
        $('#notice-date').val('');
        $('#notice-date-hour').val('');
        $('#notice-date-minute').val('');

        $('.text-danger').remove();
    });

    function validateHour(sel) {
        if (IsNullOrWhiteSpace($(sel).val())) return true;

        var val = parseInt($(sel).val());

        var validate = val >= 0 && val <= 23;

        if (!validate) {
            $(sel).val('');
            alert('A hora deve estar dentre o intervalo de 0 à 23')");
            WriteLiteral(@"
        }

        return validate;
    }

    function validateMinute(sel) {
        if (IsNullOrWhiteSpace($(sel).val())) return true;

        var val = parseInt($(sel).val());

        var validate = val >= 0 && val <= 59;

        if (!validate) {
            $(sel).val('');
            alert('Os minutos devem estar dentre o intervalo de 0 à 59')
        }

        return validate;
    }

    function getDate(id) {
        var strDate = $('#' + id).val();
        var strHour = $('#' + id + '-hour').val();
        var strMinute = $('#' + id + '-minute').val();

        return moment(strDate + ' ' + strHour + ':' + strMinute, 'DD/MM/YYYY HH:mm');
    }
</script>
");
            EndContext();
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public FUNCTIONS.Client.ClientFunctions clientFunctions { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public FUNCTIONS.Client.ClientCalendarFunctions clientCalendarFunctions { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<DB.Client> Html { get; private set; }
    }
}
#pragma warning restore 1591
