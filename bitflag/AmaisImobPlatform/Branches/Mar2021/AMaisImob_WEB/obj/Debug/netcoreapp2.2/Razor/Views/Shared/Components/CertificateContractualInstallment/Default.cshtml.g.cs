#pragma checksum "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "0aa6f0aa26f86108585ce222963fed2bdbae17c1"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Shared_Components_CertificateContractualInstallment_Default), @"mvc.1.0.view", @"/Views/Shared/Components/CertificateContractualInstallment/Default.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Views/Shared/Components/CertificateContractualInstallment/Default.cshtml", typeof(AspNetCore.Views_Shared_Components_CertificateContractualInstallment_Default))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#line 1 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\_ViewImports.cshtml"
using AMaisImob_WEB;

#line default
#line hidden
#line 2 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\_ViewImports.cshtml"
using AMaisImob_WEB.Models;

#line default
#line hidden
#line 3 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\_ViewImports.cshtml"
using AMaisImob_WEB.Helpers.Javascript;

#line default
#line hidden
#line 3 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
using AMaisImob_WEB.Utils;

#line default
#line hidden
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"0aa6f0aa26f86108585ce222963fed2bdbae17c1", @"/Views/Shared/Components/CertificateContractualInstallment/Default.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"4a27643b72aabcaca727c0b17e64178cf180f7a3", @"/Views/_ViewImports.cshtml")]
    public class Views_Shared_Components_CertificateContractualInstallment_Default : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<AMaisImob_WEB.Models.CertificateContractualViewModel>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("id", new global::Microsoft.AspNetCore.Html.HtmlString("certificate-contractual-installment-form"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            BeginContext(61, 2, true);
            WriteLiteral("\r\n");
            EndContext();
            BeginContext(92, 2, true);
            WriteLiteral("\r\n");
            EndContext();
            BeginContext(320, 2, true);
            WriteLiteral("\r\n");
            EndContext();
#line 8 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
  
    var certificateContractualPaymentTypes = certificateContractualPaymentTypeFunctions.GetData();

    var dividedTypeId = certificateContractualPaymentTypes.Single(x => x.ExternalCode == "DIVIDED").CertificateContractualPaymentTypeId;
    var monthlyTypeId = certificateContractualPaymentTypes.Single(x => x.ExternalCode == "MONTHLY").CertificateContractualPaymentTypeId;
    var atSightTypeId = certificateContractualPaymentTypes.Single(x => x.ExternalCode == "ATSIGHT").CertificateContractualPaymentTypeId;

    var installments = certificateContractualInstallmentFunctions.GetDataViewModel(certificateContractualInstallmentFunctions.GetDataAsNoTracking(x => x.CertificateContractualId == Model.CertificateContractualId).OrderBy(x => x.Date));

#line default
#line hidden
            BeginContext(1084, 175, true);
            WriteLiteral("\r\n<style type=\"text/css\">\r\n    #certificate-contractual-installment-table th, #certificate-contractual-installment-table td {\r\n        text-align: center;\r\n    }\r\n</style>\r\n\r\n");
            EndContext();
            BeginContext(1259, 3391, false);
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("form", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "0aa6f0aa26f86108585ce222963fed2bdbae17c16123", async() => {
                BeginContext(1311, 58, true);
                WriteLiteral("\r\n    <input type=\"hidden\" name=\"CertificateContractualId\"");
                EndContext();
                BeginWriteAttribute("value", " value=\"", 1369, "\"", 1408, 1);
#line 25 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
WriteAttributeValue("", 1377, Model.CertificateContractualId, 1377, 31, false);

#line default
#line hidden
                EndWriteAttribute();
                BeginContext(1409, 422, true);
                WriteLiteral(@" />
    <div class=""row"">
        <div class=""col-md-6 form-group"">
            <div class=""input-group"" id=""payment-type-area"">
                <div class=""input-group-prepend"">
                    <span class=""input-group-text"" style=""padding: 0 10px 0 10px;"">Tipo de Pagamento</span>
                </div>
                <select class=""form-control"" id=""payment-type-id"" name=""PaymentTypeId"" data-start-value=""");
                EndContext();
                BeginContext(1832, 41, false);
#line 32 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
                                                                                                    Write(Model.CertificateContractualPaymentTypeId);

#line default
#line hidden
                EndContext();
                BeginContext(1873, 4, true);
                WriteLiteral("\">\r\n");
                EndContext();
#line 33 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
                     foreach (var item in certificateContractualPaymentTypes)
                    {
                        if (Model.CertificateContractualPaymentTypeId == item.CertificateContractualPaymentTypeId)
                        {

#line default
#line hidden
                BeginContext(2122, 28, true);
                WriteLiteral("                            ");
                EndContext();
                BeginContext(2150, 86, false);
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("option", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "0aa6f0aa26f86108585ce222963fed2bdbae17c18627", async() => {
                    BeginContext(2218, 9, false);
#line 37 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
                                                                                          Write(item.Name);

#line default
#line hidden
                    EndContext();
                }
                );
                __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper);
                BeginWriteTagHelperAttribute();
                __tagHelperStringValueBuffer = EndWriteTagHelperAttribute();
                __tagHelperExecutionContext.AddHtmlAttribute("selected", Html.Raw(__tagHelperStringValueBuffer), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.Minimized);
                BeginWriteTagHelperAttribute();
#line 37 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
                                        WriteLiteral(item.CertificateContractualPaymentTypeId);

#line default
#line hidden
                __tagHelperStringValueBuffer = EndWriteTagHelperAttribute();
                __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper.Value = __tagHelperStringValueBuffer;
                __tagHelperExecutionContext.AddTagHelperAttribute("value", __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper.Value, global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                EndContext();
                BeginContext(2236, 2, true);
                WriteLiteral("\r\n");
                EndContext();
#line 38 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
                            continue;
                        }


#line default
#line hidden
                BeginContext(2306, 24, true);
                WriteLiteral("                        ");
                EndContext();
                BeginContext(2330, 77, false);
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("option", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "0aa6f0aa26f86108585ce222963fed2bdbae17c111597", async() => {
                    BeginContext(2389, 9, false);
#line 41 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
                                                                             Write(item.Name);

#line default
#line hidden
                    EndContext();
                }
                );
                __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper);
                BeginWriteTagHelperAttribute();
#line 41 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
                           WriteLiteral(item.CertificateContractualPaymentTypeId);

#line default
#line hidden
                __tagHelperStringValueBuffer = EndWriteTagHelperAttribute();
                __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper.Value = __tagHelperStringValueBuffer;
                __tagHelperExecutionContext.AddTagHelperAttribute("value", __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper.Value, global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                EndContext();
                BeginContext(2407, 2, true);
                WriteLiteral("\r\n");
                EndContext();
#line 42 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
                    }

#line default
#line hidden
                BeginContext(2432, 129, true);
                WriteLiteral("                </select>\r\n            </div>\r\n        </div>\r\n        <div class=\"col-md-6 form-group\" id=\"installment-date-col\"");
                EndContext();
                BeginWriteAttribute("style", " style=\"", 2561, "\"", 2709, 1);
#line 46 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
WriteAttributeValue("", 2569, Model.CertificateContractualPaymentTypeId == monthlyTypeId || !Model.CertificateContractualPaymentTypeId.HasValue ? "display: none;" : "", 2569, 140, false);

#line default
#line hidden
                EndWriteAttribute();
                BeginContext(2710, 382, true);
                WriteLiteral(@">
            <div class=""input-group"" id=""installment-date-area"">
                <div style=""min-width: 120px;"" class=""input-group-prepend"">
                    <span style=""padding: 0 33px 0 34px;"" class=""input-group-text"">Mês e Ano</span>
                </div>
                <input class=""form-control monthYear"" id=""installment-date"" placeholder=""Mês e Ano"" name=""Date""");
                EndContext();
                BeginWriteAttribute("value", " value=\"", 3092, "\"", 3123, 1);
#line 51 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
WriteAttributeValue("", 3100, Model._InstallmentDate, 3100, 23, false);

#line default
#line hidden
                EndWriteAttribute();
                BeginContext(3124, 19, true);
                WriteLiteral(" data-start-value=\"");
                EndContext();
                BeginContext(3144, 22, false);
#line 51 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
                                                                                                                                                             Write(Model._InstallmentDate);

#line default
#line hidden
                EndContext();
                BeginContext(3166, 497, true);
                WriteLiteral(@""" onblur=""trySetInstallments()"" />
            </div>
        </div>
        <div class=""col-md-6 form-group"">
            <div class=""input-group"" id=""installment-price-area"">
                <div style=""min-width: 120px;"" class=""input-group-prepend"">
                    <span style="" padding: 0 18px 0 18px;"" class=""input-group-text"">Preço da Parcela</span>
                </div>
                <input class=""form-control money"" id=""installment-price"" name=""Price"" placeholder=""Preço""");
                EndContext();
                BeginWriteAttribute("value", " value=\"", 3663, "\"", 3750, 1);
#line 59 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
WriteAttributeValue("", 3671, Model.InstallmentPrice.HasValue? Model._InstallmentPrice : Model._PriceQuote, 3671, 79, false);

#line default
#line hidden
                EndWriteAttribute();
                BeginContext(3751, 19, true);
                WriteLiteral(" data-start-value=\"");
                EndContext();
                BeginContext(3771, 23, false);
#line 59 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
                                                                                                                                                                                                               Write(Model._InstallmentPrice);

#line default
#line hidden
                EndContext();
                BeginContext(3794, 140, true);
                WriteLiteral("\" onblur=\"trySetInstallments()\" />\r\n            </div>\r\n        </div>\r\n        <div class=\"col-md-6 form-group\" id=\"installment-amount-col\"");
                EndContext();
                BeginWriteAttribute("style", " style=\"", 3934, "\"", 4027, 1);
#line 62 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
WriteAttributeValue("", 3942, Model.CertificateContractualPaymentTypeId == dividedTypeId ? "" : "display: none;", 3942, 85, false);

#line default
#line hidden
                EndWriteAttribute();
                BeginContext(4028, 389, true);
                WriteLiteral(@">
            <div class=""input-group"" id=""installment-amount-area"">
                <div style=""min-width: 120px;"" class=""input-group-prepend"">
                    <span style=""padding: 0 38px 0 38px;"" class=""input-group-text"">Parcelas</span>
                </div>
                <input class=""form-control number"" id=""installment-amount"" placeholder=""Parcelas"" name=""PaymentTimes""");
                EndContext();
                BeginWriteAttribute("value", " value=\"", 4417, "\"", 4479, 1);
#line 67 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
WriteAttributeValue("", 4425, installments.Count() == 0? 1 : installments.Count(), 4425, 54, false);

#line default
#line hidden
                EndWriteAttribute();
                BeginContext(4480, 19, true);
                WriteLiteral(" data-start-value=\"");
                EndContext();
                BeginContext(4500, 20, false);
#line 67 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
                                                                                                                                                                                                  Write(installments.Count());

#line default
#line hidden
                EndContext();
                BeginContext(4520, 18, true);
                WriteLiteral("\" data-old-value=\"");
                EndContext();
                BeginContext(4539, 20, false);
#line 67 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
                                                                                                                                                                                                                                         Write(installments.Count());

#line default
#line hidden
                EndContext();
                BeginContext(4559, 84, true);
                WriteLiteral("\" onblur=\"trySetInstallments()\" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n");
                EndContext();
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            EndContext();
            BeginContext(4650, 64, true);
            WriteLiteral("\r\n<div class=\"row\" id=\"certificate-contractual-installment-area\"");
            EndContext();
            BeginWriteAttribute("style", " style=\"", 4714, "\"", 4862, 1);
#line 72 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
WriteAttributeValue("", 4722, Model.CertificateContractualPaymentTypeId == monthlyTypeId || !Model.CertificateContractualPaymentTypeId.HasValue ? "display: none;" : "", 4722, 140, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(4863, 404, true);
            WriteLiteral(@">
    <div class=""col-12"">
        <hr />
    </div>
    <div class=""col-12"" style="" max-height: 550px; overflow-y: auto;"">
        <table class=""table table-condensed table-striped table-bordered"" id=""certificate-contractual-installment-table"">
            <thead>
                <tr>
                    <th>Parcela</th>
                    <th>Preço</th>
                    <th>Data</th>
");
            EndContext();
            BeginContext(5337, 66, true);
            WriteLiteral("                </tr>\r\n            </thead>\r\n            <tbody>\r\n");
            EndContext();
#line 88 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
                  
                    for (int i = 0; i < installments.Count(); i++)
                    {

#line default
#line hidden
            BeginContext(5514, 49, true);
            WriteLiteral("                        <tr data-installment-id=\"");
            EndContext();
            BeginContext(5564, 51, false);
#line 91 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
                                            Write(installments[i].CertificateContractualInstallmentId);

#line default
#line hidden
            EndContext();
            BeginContext(5615, 26, true);
            WriteLiteral("\" data-installment-index=\"");
            EndContext();
            BeginContext(5643, 5, false);
#line 91 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
                                                                                                                           Write(i + 1);

#line default
#line hidden
            EndContext();
            BeginContext(5649, 25, true);
            WriteLiteral("\" data-installment-paid=\"");
            EndContext();
            BeginContext(5676, 38, false);
#line 91 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
                                                                                                                                                            Write(installments[i].Paid? "true" : "false");

#line default
#line hidden
            EndContext();
            BeginContext(5715, 36, true);
            WriteLiteral("\">\r\n                            <td>");
            EndContext();
            BeginContext(5753, 5, false);
#line 92 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
                            Write(i + 1);

#line default
#line hidden
            EndContext();
            BeginContext(5759, 39, true);
            WriteLiteral("</td>\r\n                            <td>");
            EndContext();
            BeginContext(5799, 22, false);
#line 93 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
                           Write(installments[i]._Price);

#line default
#line hidden
            EndContext();
            BeginContext(5821, 39, true);
            WriteLiteral("</td>\r\n                            <td>");
            EndContext();
            BeginContext(5861, 21, false);
#line 94 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
                           Write(installments[i]._Date);

#line default
#line hidden
            EndContext();
            BeginContext(5882, 7, true);
            WriteLiteral("</td>\r\n");
            EndContext();
            BeginContext(6283, 31, true);
            WriteLiteral("                        </tr>\r\n");
            EndContext();
#line 98 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
                    }

#line default
#line hidden
            BeginContext(6337, 76, true);
            WriteLiteral("                    <tr id=\"certificate-contractual-installment-total-price\"");
            EndContext();
            BeginWriteAttribute("style", " style=\"", 6413, "\"", 6471, 1);
#line 99 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
WriteAttributeValue("", 6421, installments.Count() < 2? "display: none;" : "", 6421, 50, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(6472, 78, true);
            WriteLiteral(">\r\n                        <td>Preço Total:</td>\r\n                        <td>");
            EndContext();
            BeginContext(6551, 44, false);
#line 101 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
                       Write(installments.Sum(x => x.Price ?? 0).ToPtBR());

#line default
#line hidden
            EndContext();
            BeginContext(6595, 42, true);
            WriteLiteral("</td>\r\n                        <td></td>\r\n");
            EndContext();
            BeginContext(6711, 27, true);
            WriteLiteral("                    </tr>\r\n");
            EndContext();
#line 106 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
                    if (installments.Count() == 0)
                    {

#line default
#line hidden
            BeginContext(6813, 236, true);
            WriteLiteral("                        <tr id=\"certificate-contractual-installment-no-items\">\r\n                            <td colspan=\"5\" class=\"text-center\"><i>Preencha os campos acima para gerar as parcelas</i></td>\r\n                        </tr>\r\n");
            EndContext();
#line 111 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
                    }
                

#line default
#line hidden
            BeginContext(7091, 328, true);
            WriteLiteral(@"            </tbody>
        </table>
    </div>
</div>

<script type=""text/javascript"">
    $('#payment-type-id').change(function () {
        $('#installment-date-col').hide();
        $('#installment-amount-col').hide();
        $('#certificate-contractual-installment-area').show();

        if ($(this).val() == ");
            EndContext();
            BeginContext(7420, 13, false);
#line 124 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
                        Write(dividedTypeId);

#line default
#line hidden
            EndContext();
            BeginContext(7433, 148, true);
            WriteLiteral(") {\r\n            $(\'#installment-amount-col\').show();\r\n            $(\'#installment-date-col\').show();\r\n        }\r\n        else if ($(this).val() == ");
            EndContext();
            BeginContext(7582, 13, false);
#line 128 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
                             Write(atSightTypeId);

#line default
#line hidden
            EndContext();
            BeginContext(7595, 450, true);
            WriteLiteral(@") {
            $('#installment-date-col').show();
            $('#installment-amount-col').hide();
            $('#installment-amount').val('1');
        } else {
            $('#certificate-contractual-installment-area').hide();
        }

        trySetInstallments();
    });

    function trySetInstallments() {
        if (!validateInstallments(false)) return;

        var amount = 1;
        if ($('#payment-type-id').val() == ");
            EndContext();
            BeginContext(8046, 13, false);
#line 143 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
                                      Write(dividedTypeId);

#line default
#line hidden
            EndContext();
            BeginContext(8059, 3952, true);
            WriteLiteral(@") amount = $('#installment-amount').val();

        if (!IsNullOrWhiteSpace($('#installment-amount').data('old-value').toString())) {
            var oldAmount = $('#installment-amount').data('old-value');

            var newAmount = amount - oldAmount;

            if (newAmount > 0) {
                setInstallments(newAmount, oldAmount);
            } else if (newAmount < 0) {
                removeInstallments(Math.abs(newAmount));
            }
        } else {
            $('#certificate-contractual-installment-table tbody tr:not(#certificate-contractual-installment-total-price):last').remove();

            setInstallments(amount, 0);
        }

        $('#certificate-contractual-installment-no-items').hide();
        $('#installment-amount').data('old-value', $('#installment-amount').val());
        updateAllInstallmentDates();
        updateAllInstallmentPrices();
        updateTotalPrice();
    }

    function setInstallments(amount, startIndex) {
        for (var i = par");
            WriteLiteral(@"seInt(startIndex) + 1; i <= parseInt(startIndex) + parseInt(amount); i++) {
            $('#certificate-contractual-installment-table tbody').append(
                $('<tr>', { 'data-installment-id': '', 'data-installment-index': i, 'data-installment-paid': 'false' }).append(
                    $('<td>').append(i),
                    $('<td>'),
                    $('<td>'),
                    //$('<td>').append('<span style=""color: red;"">Não</span>'),
                    //$('<td>').append('<a class=""badge badge-pill badge-success"" href=""javascript:setInstallmentAsPaid(' + i + ')""><i class=""fas fa-check""></i> Pago</a>'),
                )
            );
        }
    }

    function removeInstallments(amount)
    {
        for (var i = 0; i < amount; i++) $('#certificate-contractual-installment-table tbody tr:not(#certificate-contractual-installment-total-price):last').remove();
    }

    function updateAllInstallmentDates() {
        var dt = fromPtBRDate('01/' + $('#installment-date");
            WriteLiteral(@"').val());

        $('#certificate-contractual-installment-table tbody tr:not(#certificate-contractual-installment-total-price)').each(function (i, e) {
            $($(e).find('td')[2]).text(moment(dt).format('MM/YYYY'));

            dt.setMonth(dt.getMonth() + 1);
        });
    }

    function updateAllInstallmentPrices() {
        var price = $('#installment-price').val();

        $('#certificate-contractual-installment-table tbody tr:not(#certificate-contractual-installment-total-price)').each(function (i, e) {
            $($(e).find('td')[1]).text(price);
        });
    }

    function updateTotalPrice() {
        if ($('#certificate-contractual-installment-area tr[data-installment-id]').length > 1) {
            $('#certificate-contractual-installment-total-price').show();

            if ($('#certificate-contractual-installment-total-price')[0] == [0]) return;

            var elem = $('#certificate-contractual-installment-total-price');

            $('#certificate-cont");
            WriteLiteral(@"ractual-installment-table tbody').append(elem.get(0).outerHTML);
            elem.remove();

            var price = Globalize.parseFloat(Globalize.format($('#installment-price').val()));

            $($('#certificate-contractual-installment-total-price td')[1]).text($('.money').masked((price * $('#installment-amount').val()).toFixed(2)));
        } else {
            $('#certificate-contractual-installment-total-price').hide();
        }

    }

    function validateInstallments(showAlerts) {
        var hasError = false;
        $('.text-danger').remove();

        if (!fieldHasValue('#installment-price')) {
            hasError = true;
            if (showAlerts) $('#installment-price-area').after('<div class=""text-danger"">Preencha este campo.</div>');
        }
        if (!fieldHasValue('#installment-date') && ($('#payment-type-id').val() == ");
            EndContext();
            BeginContext(12012, 13, false);
#line 233 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
                                                                              Write(dividedTypeId);

#line default
#line hidden
            EndContext();
            BeginContext(12025, 35, true);
            WriteLiteral(" || $(\'#payment-type-id\').val() == ");
            EndContext();
            BeginContext(12061, 13, false);
#line 233 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
                                                                                                                               Write(atSightTypeId);

#line default
#line hidden
            EndContext();
            BeginContext(12074, 252, true);
            WriteLiteral(")) {\r\n            hasError = true;\r\n            if (showAlerts) $(\'#installment-date-area\').after(\'<div class=\"text-danger\">Preencha este campo.</div>\');\r\n        }\r\n\r\n        if (!fieldHasValue(\'#installment-amount\') && $(\'#payment-type-id\').val() == ");
            EndContext();
            BeginContext(12327, 13, false);
#line 238 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
                                                                               Write(dividedTypeId);

#line default
#line hidden
            EndContext();
            BeginContext(12340, 1143, true);
            WriteLiteral(@") {
            hasError = true;
            if (showAlerts) $('#installment-amount-area').after('<div class=""text-danger"">Preencha este campo.</div>');
        }

        return !hasError;
    }

    $('#installment-date').datepicker({ format: 'mm/yyyy', startView: ""year"", minViewMode: ""months"", language: 'pt-BR', autoclose: true }).on('changeDate', function () {
        $(this).datepicker('hide');
        trySetInstallments();
    });

    $('#installment-amount, #installment-price, #installment-date').on('keypress', function (e) {
        if (e.which == 13) {
            trySetInstallments();
        }
    });

    function setInstallmentAsPaid(index) {
        if (!confirm('Deseja realmente definir a parcela ' + index + ' como paga?')) return;

        $('tr[data-installment-index=""' + index + '""]').data('installment-paid', 'true');
        $($('tr[data-installment-index=""' + index + '""] td')[3]).empty().append(""<span style=\""color: green;\"">Sim<span>"");
        $($('tr[data-instal");
            WriteLiteral("lment-index=\"\' + index + \'\"] td\')[4]).empty();\r\n    }\r\n\r\n    function installmentDataChangeFromStart() {\r\n        if (\'");
            EndContext();
            BeginContext(13484, 31, false);
#line 266 "C:\repositorios\bitflag\AmaisImobPlatform\Branches\Mar2021\AMaisImob_WEB\Views\Shared\Components\CertificateContractualInstallment\Default.cshtml"
        Write(Model.InstallmentPrice.HasValue);

#line default
#line hidden
            EndContext();
            BeginContext(13515, 824, true);
            WriteLiteral(@"' == 'True' &&
            ($('#certificate-contractual-installment-form [name=""PaymentTypeId""]').val() != $('#certificate-contractual-installment-form [name=""PaymentTypeId""]').data('start-value') ||
            $('#certificate-contractual-installment-form [name=""Date""]').val() != $('#certificate-contractual-installment-form [name=""Date""]').data('start-value') ||
            $('#certificate-contractual-installment-form [name=""Price""]').val() != $('#certificate-contractual-installment-form [name=""Price""]').data('start-value') ||
            $('#certificate-contractual-installment-form [name=""PaymentTimes""]').val() != $('#certificate-contractual-installment-form [name=""PaymentTimes""]').data('start-value')))
            return true;

        return false;
    }

    $(document).ready(_MaskData);
</script>");
            EndContext();
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public AMaisImob_WEB.BLL.CertificateContractualInstallmentFunctions certificateContractualInstallmentFunctions { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public AMaisImob_WEB.BLL.CertificateContractualPaymentTypeFunctions certificateContractualPaymentTypeFunctions { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<AMaisImob_WEB.Models.CertificateContractualViewModel> Html { get; private set; }
    }
}
#pragma warning restore 1591
