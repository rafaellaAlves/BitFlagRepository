#pragma checksum "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "1234c992946f5130ebd6d49fa4d5a24240a7deed"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Shared_Components_DemandClientManage_Default), @"mvc.1.0.view", @"/Views/Shared/Components/DemandClientManage/Default.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\repositorios\DestineJaPlatform\Application\Web\Views\_ViewImports.cshtml"
using Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\repositorios\DestineJaPlatform\Application\Web\Views\_ViewImports.cshtml"
using Web.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\repositorios\DestineJaPlatform\Application\Web\Views\_ViewImports.cshtml"
using Web.Utils;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\repositorios\DestineJaPlatform\Application\Web\Views\_ViewImports.cshtml"
using DTO.Utils;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\repositorios\DestineJaPlatform\Application\Web\Views\_ViewImports.cshtml"
using DTO.Shared;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"1234c992946f5130ebd6d49fa4d5a24240a7deed", @"/Views/Shared/Components/DemandClientManage/Default.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"b42406f827f578580248b07848ae56f582b2639c", @"/Views/_ViewImports.cshtml")]
    public class Views_Shared_Components_DemandClientManage_Default : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<DTO.Shared.EntityViewMode<DTO.Demand.DemandClientViewModel>>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("type", new global::Microsoft.AspNetCore.Html.HtmlString("text/javascript"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("asp-cut-key", "demand-client-manage", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Web.Utils.TagHelperScriptCut __Web_Utils_TagHelperScriptCut;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("\n");
            WriteLiteral("\n");
#nullable restore
#line 5 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
  
    var demandClientResidues = await demandClientResidueListServices.GetViewModelAsNoTrackingAsync(x => x.DemandClientId == Model.Model.DemandClientId);

#line default
#line hidden
#nullable disable
            WriteLiteral("\n<style type=\"text/css\">\n    ");
            WriteLiteral(@"@media (min-width: 1100px) {
        #demand-client-manage-modal .modal-lg {
            max-width: 1000px;
        }
    }

    #demand-client-residue-table_wrapper td:last-child {
        white-space: nowrap;
        /*width: 125px !important;*/
    }
</style>

<form id=""demand-client-manage-form""");
            BeginWriteAttribute("action", " action=\"", 645, "\"", 697, 1);
#nullable restore
#line 22 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
WriteAttributeValue("", 654, Url.Action("DemandClientManage", "Demand"), 654, 43, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" method=\"post\">\n    <input type=\"hidden\"");
            BeginWriteAttribute("value", " value=\"", 738, "\"", 773, 1);
#nullable restore
#line 23 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
WriteAttributeValue("", 746, Model.Model.DemandClientId, 746, 27, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@" name=""DemandClientId"" />
    <div id=""demand-client-manage-form-area"">
        <div class=""row"">
            <div class=""col-md form-group"">
                <label class=""required"">Visitou?</label>
                <select class=""form-control"" name=""Visited"" onchange=""updateNonCollectingReasonField()"">
                    <option");
            BeginWriteAttribute("value", " value=\"", 1105, "\"", 1113, 0);
            EndWriteAttribute();
            WriteLiteral(">Selecione</option>\n                    <option value=\"true\" ");
#nullable restore
#line 30 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
                                     Write(Model.Model.Visited.GetValueOrDefault() == true ? "selected" : "");

#line default
#line hidden
#nullable disable
            WriteLiteral(">Sim</option>\n                    <option value=\"false\" ");
#nullable restore
#line 31 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
                                      Write(Model.Model.Visited.HasValue && Model.Model.Visited.Value == false ? "selected" : "");

#line default
#line hidden
#nullable disable
            WriteLiteral(@">Não</option>
                </select>
            </div>
            <div class=""col-md form-group"">
                <label class=""required"">Coletou?</label>
                <select class=""form-control"" name=""Collected"" onchange=""updateNonCollectingReasonField()"">
                    <option");
            BeginWriteAttribute("value", " value=\"", 1680, "\"", 1688, 0);
            EndWriteAttribute();
            WriteLiteral(">Selecione</option>\n                    <option value=\"true\" ");
#nullable restore
#line 38 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
                                     Write(Model.Model.Collected.GetValueOrDefault() == true ? "selected" : "");

#line default
#line hidden
#nullable disable
            WriteLiteral(">Sim</option>\n                    <option value=\"false\" ");
#nullable restore
#line 39 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
                                      Write(Model.Model.Collected.HasValue && Model.Model.Collected.Value == false ? "selected" : "");

#line default
#line hidden
#nullable disable
            WriteLiteral(">Não</option>\n                </select>\n            </div>\n            <div class=\"col-md form-group\">\n                <label>Hora Chegada</label>\n                <input class=\"form-control time-2\" name=\"_ArrivedTime\"");
            BeginWriteAttribute("value", " value=\"", 2184, "\"", 2217, 1);
#nullable restore
#line 44 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
WriteAttributeValue("", 2192, Model.Model._ArrivedTime, 2192, 25, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" placeholder=\"Hora Chegada\" />\n            </div>\n            <div class=\"col-md form-group\">\n                <label>Hora Saída</label>\n                <input class=\"form-control time-2\" name=\"_DepartureTime\"");
            BeginWriteAttribute("value", " value=\"", 2426, "\"", 2461, 1);
#nullable restore
#line 48 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
WriteAttributeValue("", 2434, Model.Model._DepartureTime, 2434, 27, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" placeholder=\"Hora Saída\" />\n            </div>\n            <div class=\"col-md form-group\">\n                <label>Dia</label>\n                <input class=\"form-control date\" name=\"_VisitedDate\"");
            BeginWriteAttribute("value", " value=\"", 2657, "\"", 2690, 1);
#nullable restore
#line 52 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
WriteAttributeValue("", 2665, Model.Model._VisitedDate, 2665, 25, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" placeholder=\"Dia\" />\n            </div>\n        </div>\n        <div class=\"row\">\n            <div class=\"col-md-6 form-group\">\n                <label>Motivo da não coleta</label>\n                <input class=\"form-control\" name=\"NonCollectingReason\"");
            BeginWriteAttribute("value", " value=\"", 2941, "\"", 2981, 1);
#nullable restore
#line 58 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
WriteAttributeValue("", 2949, Model.Model.NonCollectingReason, 2949, 32, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" ");
#nullable restore
#line 58 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
                                                                                                            Write(Model.Model.Visited.HasValue && (Model.Model.Visited.GetValueOrDefault() == false || Model.Model.Collected.GetValueOrDefault() == false) ? "" : "disabled");

#line default
#line hidden
#nullable disable
            WriteLiteral(" placeholder=\"Motivo da não coleta\" />\n            </div>\n            <div class=\"col-md-3 form-group\">\n                <label>Nome do(a) receptor(a)</label>\n                <input class=\"form-control\" name=\"ReceptorName\"");
            BeginWriteAttribute("value", " value=\"", 3361, "\"", 3394, 1);
#nullable restore
#line 62 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
WriteAttributeValue("", 3369, Model.Model.ReceptorName, 3369, 25, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" placeholder=\"Nome do(a) receptor(a)\" />\n            </div>\n            <div class=\"col-md-3 form-group\">\n                <label>CPF do(a) receptor(a)</label>\n                <input class=\"form-control cpf\" name=\"_ReceptorCPF\"");
            BeginWriteAttribute("value", " value=\"", 3621, "\"", 3654, 1);
#nullable restore
#line 66 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
WriteAttributeValue("", 3629, Model.Model._ReceptorCPF, 3629, 25, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" placeholder=\"CPF do(a) receptor(a)\" />\n            </div>\n        </div>\n    </div>\n    <hr />\n");
#nullable restore
#line 71 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
     if (Model.CanEdit())
    {

#line default
#line hidden
#nullable disable
            WriteLiteral("        <div class=\"row\">\n            <div class=\"col form-group text-right\">\n                <button type=\"button\" class=\"btn btn-success\" onclick=\"openDemandClientResidueModal()\">Adicionar Resíduos</button>\n            </div>\n        </div>\n");
#nullable restore
#line 78 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
    }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"    <div class=""row"">
        <div class=""col form-group table-responsive"">
            <table class=""table table-striped table-condensed table-bordered"" id=""demand-client-residue-table"">
                <thead>
                    <tr>
                        <td>Código IBAMA</td>
                        <td>Nome do Resíduo</td>
                        <td>Quantidade (Peso)</td>
                        <td>Familía do Resíduo</td>
                        <td>Destino Final</td>
");
#nullable restore
#line 89 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
                         if (Model.CanEdit())
                        {

#line default
#line hidden
#nullable disable
            WriteLiteral("                            <td>&nbsp;</td>\n");
#nullable restore
#line 92 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
                        }

#line default
#line hidden
#nullable disable
            WriteLiteral("                    </tr>\n                </thead>\n                <tbody>\n");
#nullable restore
#line 96 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
                     foreach (var item in demandClientResidues)
                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                        <tr data-residue-id=\"");
#nullable restore
#line 98 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
                                        Write(item.ResidueId);

#line default
#line hidden
#nullable disable
            WriteLiteral("\">\n                            <td>");
#nullable restore
#line 99 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
                           Write(item.IBAMACode);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\n                            <td>");
#nullable restore
#line 100 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
                           Write(item.ResidueName);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\n                            <td>");
#nullable restore
#line 101 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
                           Write(item._Weight);

#line default
#line hidden
#nullable disable
            WriteLiteral(" (");
#nullable restore
#line 101 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
                                          Write(item.UnitOfMeasurementName);

#line default
#line hidden
#nullable disable
            WriteLiteral(")</td>\n                            <td>");
#nullable restore
#line 102 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
                           Write(item.ResidueFamilyName);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\n                            <td>");
#nullable restore
#line 103 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
                           Write(item.RecipientName.IfNullChange("-"));

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\n");
#nullable restore
#line 104 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
                             if (Model.CanEdit())
                            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                <td>\n                                    <a");
            BeginWriteAttribute("href", " href=\"", 5360, "\"", 5435, 3);
            WriteAttributeValue("", 5367, "javascript:openDemandClientResidueModal(", 5367, 40, true);
#nullable restore
#line 107 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
WriteAttributeValue("", 5407, item.DemandClientResidueId, 5407, 27, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 5434, ")", 5434, 1, true);
            EndWriteAttribute();
            WriteLiteral(" class=\"badge badge-pill badge-primary\"><i class=\"simple-icon-note\"></i> Editar</a>\n                                    <a");
            BeginWriteAttribute("href", " href=\"", 5558, "\"", 5618, 3);
            WriteAttributeValue("", 5565, "javascript:removeDemandClientResidue(", 5565, 37, true);
#nullable restore
#line 108 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
WriteAttributeValue("", 5602, item.ResidueId, 5602, 15, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 5617, ")", 5617, 1, true);
            EndWriteAttribute();
            WriteLiteral(" class=\"badge badge-pill badge-danger\"><i class=\"simple-icon-trash\"></i> Remover</a>\n                                </td>\n");
#nullable restore
#line 110 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
                            }

#line default
#line hidden
#nullable disable
            WriteLiteral("                        </tr>\n");
#nullable restore
#line 112 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
                    }

#line default
#line hidden
#nullable disable
            WriteLiteral("                </tbody>\n            </table>\n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"col form-group\">\n            <button type=\"button\" class=\"btn btn-success\" id=\"upload-mt-file-button\"");
            BeginWriteAttribute("onclick", " onclick=\'", 6039, "\'", 6184, 3);
            WriteAttributeValue("", 6049, "openMTRFileModal(", 6049, 17, true);
#nullable restore
#line 119 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
WriteAttributeValue("", 6066, Html.Raw(Newtonsoft.Json.JsonConvert.SerializeObject(new { Model.Model.DemandClientId, Model.Model.MTRFileName })), 6066, 117, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 6183, ")", 6183, 1, true);
            EndWriteAttribute();
            WriteLiteral(">Upload MTR Assinado</button>\n        </div>\n        <div class=\"col form-group text-right\">\n            <div class=\"input-group\" id=\"certificateId-area\">\n                <div class=\"input-group-addon\">\n                    <span");
            BeginWriteAttribute("class", " class=\"", 6413, "\"", 6421, 0);
            EndWriteAttribute();
            WriteLiteral(">Nº do Certificado</span>\n                </div>\n                <input class=\"form-control number\" disabled");
            BeginWriteAttribute("value", " value=\"", 6530, "\"", 6588, 1);
#nullable restore
#line 126 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
WriteAttributeValue("", 6538, Model.Model.DestineJaCertificateId??(object)"-", 6538, 50, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\n                <input type=\"hidden\"");
            BeginWriteAttribute("value", " value=\"", 6627, "\"", 6672, 1);
#nullable restore
#line 127 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
WriteAttributeValue("", 6635, Model.Model.DestineJaCertificateId, 6635, 37, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\n            </div>\n        </div>\n    </div>\n</form>\n\n\n\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "1234c992946f5130ebd6d49fa4d5a24240a7deed22073", async() => {
                WriteLiteral("\n    var demandClientResidueTable, demandClientResidue = [");
#nullable restore
#line 136 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
                                                     Write(Html.Raw(string.Join(",", demandClientResidues.Select(x => $"{{ residueId: { x.ResidueId }, ibama: '{ x.IBAMACode }', residueName: '{ x.ResidueName }', residueFamilyName: '{ x.ResidueFamilyName }', weight: '{ x._Weight }', unitOfMeasurementId: { x.UnitOfMeasurementId } }}"))));

#line default
#line hidden
#nullable disable
                WriteLiteral("];\n\n    function insertFileCallback1(fileName) {\n        $(\'#upload-mt-file-button\').off(\'click\');\n        $(\'#upload-mt-file-button\').click(function () {\n            openMTRFileModal({ DemandClientId: \'");
#nullable restore
#line 141 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
                                           Write(Model.Model.DemandClientId);

#line default
#line hidden
#nullable disable
                WriteLiteral("\', MTRFileName: fileName });\n        });\n    }\n\n\n    function removeFileCallback1() {\n        $(\'#upload-mt-file-button\').off(\'click\');\n        $(\'#upload-mt-file-button\').click(function () {\n            openMTRFileModal({ DemandClientId: \'");
#nullable restore
#line 149 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
                                           Write(Model.Model.DemandClientId);

#line default
#line hidden
#nullable disable
                WriteLiteral(@"' });
        });
    }

    function openDemandClientResidueModal(data) {
        if ($('#demand-client-residue-modal').length == 0) return;

        if ($('#demand-client-manage-modal').length > 0) {
            //$('#demand-client-manage-modal').css('opacity', 0);
            $('#demand-client-manage-modal').modal('hide');
        }

        if (data == null) {
            $('#demand-client-residue-add-button').show();
        } else {
            $('#demand-client-residue-add-button').hide();
        }

        var d = {};
        if (typeof data == 'number') {
            d = { demandClientResidueId: data };
        } else if (typeof data == 'object') {
            d = data;
        }
        d['demandClientId'] = '");
#nullable restore
#line 173 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
                          Write(Model.Model.DemandClientId);

#line default
#line hidden
#nullable disable
                WriteLiteral("\';\n\n        $(\'#demand-client-residue-modal\').modal(\'show\');\n        $(\'#demand-client-residue-view-component\').load(\'");
#nullable restore
#line 176 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
                                                    Write(Url.Action("LoadDemandClientResidueSelectionViewComponent", "Demand"));

#line default
#line hidden
#nullable disable
                WriteLiteral(@"', d );
    }

    $('#demand-client-residue-modal').on('hidden.bs.modal', function () {
        if ($('#demand-client-manage-modal').length > 0) {
            //$('#demand-client-manage-modal').css('opacity', 1);

            $('#demand-client-manage-modal').modal('show');
        }
    });

    //$('#demand-client-manage-modal').on('shown.bs.modal', function () {
    //    $('#demand-client-residue-table').DataTable().columns.adjust();
    //});

    $(document).ready(function () {
        demandClientResidueTable = $('#demand-client-residue-table').DataTable({
            serverSide: false,
            proccessing: true,
            searching: true,
            lengthChange: false,
            dom: 'tip',
            scrollY: '250px',
            scrollCollapse: true,
            paging: false,
            drawCallback: function () {
                setTimeout(function () {
                    $('#demand-client-residue-table').DataTable().columns.adjust();
                }, 500);
            }
        });");
                WriteLiteral("\n\n        InitializeFunctions();\n\n        ");
#nullable restore
#line 210 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
    Write(Model.CanEdit()? "" : (object)Html.Raw("disableAllFields('#demand-client-manage-form-area');"));

#line default
#line hidden
#nullable disable
                WriteLiteral(@"
    });

    function insertResiduesIntoClientResidueTable(data) {
        if (demandClientResidue.findIndex(x => x.residueId == data.residueId) != -1) return;

        demandClientResidue = demandClientResidue.concat(data);

        $.each(data, function (i, e) {
            var r = demandClientResidueTable.row.add(
                $('<tr>').append(
                    $('<td>').append(e.ibama),
                    $('<td>').append(e.residueName),
                    $('<td>').append(e.weight + '(' + e.unitOfMeasurementName + ')'),
                    $('<td>').append(e.residueFamilyName),
                    $('<td>').append('-'),
                    $('<td>').append('<div class=\""text-center\""><a href=\'javascript:openDemandClientResidueModal(' + JSON.stringify(e) + ')\' class=""badge badge-pill badge-primary""><i class=""simple-icon-note""></i> Editar</a>&nbsp;<a href=""javascript:removeDemandClientResidue(' + e.residueId + ')"" class=""badge badge-pill badge-danger""><i class=""simple-icon-trash""></i> Remover</a");
                WriteLiteral(@"></div>')
                )
            );

            $(r.node()).attr('data-residue-id', e.residueId);
        });

        demandClientResidueTable.draw(false);
    }

    function removeDemandClientResidue(residueId) {

        demandClientResidueTable.row($('#demand-client-residue-table tbody tr[data-residue-id=""' + residueId + '""]')).remove();
        demandClientResidueTable.draw();

        var index = demandClientResidue.findIndex(x => x.residueId == residueId);
        demandClientResidue.splice(index, 1);
    }

    function saveDemandClient(callback) {
      
    
        if (!validateInputs('demand-client-manage-form')) return;

        if ($('#demand-client-manage-form [name=""Visited""]').val() == ""true"") {
            var r = true;

            if (isNullOrWhiteSpace($('#demand-client-manage-form [name=""_ArrivedTime""]').val())) {
                $('#demand-client-manage-form [name=""_ArrivedTime""]').after('<small class=""text-danger"">Este campo deve ser preenchido.</div>');
                r = fa");
                WriteLiteral(@"lse;
            }
            if (isNullOrWhiteSpace($('#demand-client-manage-form [name=""_DepartureTime""]').val())) {
                $('#demand-client-manage-form [name=""_DepartureTime""]').after('<small class=""text-danger"">Este campo deve ser preenchido.</div>');
                r = false;
            }
            if (isNullOrWhiteSpace($('#demand-client-manage-form [name=""_VisitedDate""]').val())) {
                $('#demand-client-manage-form [name=""_VisitedDate""]').after('<small class=""text-danger"">Este campo deve ser preenchido.</div>');
                r = false;
            }

            if (!r) return;
        }

        if ($('#demand-client-manage-form [name=""Collected""]').val() == ""true"") {

            if ($('#demand-client-manage-form [name=""Visited""]').val() == 'false') {
                $('#demand-client-manage-form [name=""Collected""]').after('<small class=""text-danger"">Não é possível prosseguir com coletado igual a \'SIM\' e Visitado igual a \'NÃO\'.</div>');
                r = false;
   ");
                WriteLiteral(@"         }
            if (!r) return;
        }

        if ($('#demand-client-manage-form [name=""Collected""]').val() == ""true"" && isNullOrWhiteSpace($('#demand-client-manage-form [name=""ReceptorName""]').val())) {
            $('#demand-client-manage-form [name=""ReceptorName""]').after('<small class=""text-danger"">Este campo deve ser preenchido.</div>');
            return;
        }

        //if ($('#demand-client-manage-form [name=""Collected""]').val() == ""true"" && isNullOrWhiteSpace($('#demand-client-manage-form [name=""CertificateId""]').val())) {
        //    $('#certificateId-area').after('<small class=""text-danger"">Este campo deve ser preenchido.</div>');
        //    return;
        //}

        $.post('");
#nullable restore
#line 288 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
           Write(Url.Action("ValidateDemandClientManage", "Demand"));

#line default
#line hidden
#nullable disable
                WriteLiteral("\', { demandClientId: \'");
#nullable restore
#line 288 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
                                                                                    Write(Model.Model.DemandClientId);

#line default
#line hidden
#nullable disable
                WriteLiteral(@"', demandResidues: demandClientResidue.map(function (e) { return e.residueId }) }, function (d) {
            if (d) {
                $('#demand-client-manage-button').attr('disabled', '');

                insertDemandClientResiduesToForm();
                $('#demand-client-manage-form').submit();
                
             
            }
            else {
                bootboxConfirm('Há resíduos coletados que não pertencem ao contrato.<br/> Deseja salvar e vincular os resíduos no contrato?', function (r) {
                    if (!r) return;

                    $('#demand-client-manage-button').attr('disabled', '');

                    insertDemandClientResiduesToForm();
                     $('#demand-client-manage-form').submit();
                    
                   
                });
            }
        });
    }

    function insertDemandClientResiduesToForm() {
        $.each(demandClientResidue, function (_i, e) {
            var i = _i + 1;

            $('#demand-client-manage-f");
                WriteLiteral(@"orm').append($('<input>', { type: 'hidden', name: 'demandClientResidue.Index', value: i }));
            $('#demand-client-manage-form').append($('<input>', { type: 'hidden', name: 'demandClientResidue[' + i + '].ResidueId', value: e.residueId }));
            $('#demand-client-manage-form').append($('<input>', { type: 'hidden', name: 'demandClientResidue[' + i + ']._Weight', value: e.weight }));
            $('#demand-client-manage-form').append($('<input>', { type: 'hidden', name: 'demandClientResidue[' + i + '].UnitOfMeasurementId', value: e.unitOfMeasurementId }));
        });
    }

    function updateNonCollectingReasonField() {
        $('#demand-client-manage-form [name=""NonCollectingReason""]').removeAttr('disabled');
        if ($('#demand-client-manage-form [name=""Visited""]').val() == 'false' || $('#demand-client-manage-form [name=""Collected""]').val() == 'false') return;

        $('#demand-client-manage-form [name=""NonCollectingReason""]').attr('disabled', 'disabled');
    }

    function saveEditio");
                WriteLiteral("nResidueCallback(data) {\n        removeDemandClientResidue(data.oldResidueId);\n        insertResiduesIntoClientResidueTable([data]);\n\n        $(\'#demand-client-residue-modal\').modal(\'hide\');\n    }\n");
            }
            );
            __Web_Utils_TagHelperScriptCut = CreateTagHelper<global::Web.Utils.TagHelperScriptCut>();
            __tagHelperExecutionContext.Add(__Web_Utils_TagHelperScriptCut);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
            __Web_Utils_TagHelperScriptCut.CutKey = (string)__tagHelperAttribute_1.Value;
            __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_1);
#nullable restore
#line 135 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClientManage\Default.cshtml"
__Web_Utils_TagHelperScriptCut.LoadFromController = Model.LoadFromController;

#line default
#line hidden
#nullable disable
            __tagHelperExecutionContext.AddTagHelperAttribute("asp-cut-key-load-from-controller", __Web_Utils_TagHelperScriptCut.LoadFromController, global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public Services.Demand.DemandClientResidueListServices demandClientResidueListServices { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<DTO.Shared.EntityViewMode<DTO.Demand.DemandClientViewModel>> Html { get; private set; }
    }
}
#pragma warning restore 1591
