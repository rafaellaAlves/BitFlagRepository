#pragma checksum "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "28f82b88b213cb233b27a357cfe5a0afc6e60f01"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Shared_Components_DemandClient_Default), @"mvc.1.0.view", @"/Views/Shared/Components/DemandClient/Default.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\repositorios\DestineJaPlatform\Application\Web\Views\_ViewImports.cshtml"
using Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\repositorios\DestineJaPlatform\Application\Web\Views\_ViewImports.cshtml"
using Web.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\repositorios\DestineJaPlatform\Application\Web\Views\_ViewImports.cshtml"
using Web.Utils;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\repositorios\DestineJaPlatform\Application\Web\Views\_ViewImports.cshtml"
using DTO.Utils;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\repositorios\DestineJaPlatform\Application\Web\Views\_ViewImports.cshtml"
using DTO.Shared;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"28f82b88b213cb233b27a357cfe5a0afc6e60f01", @"/Views/Shared/Components/DemandClient/Default.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"b42406f827f578580248b07848ae56f582b2639c", @"/Views/_ViewImports.cshtml")]
    public class Views_Shared_Components_DemandClient_Default : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<DTO.Shared.EntityViewMode<DTO.Demand.DemandClientManageViewModel>>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("href", new global::Microsoft.AspNetCore.Html.HtmlString("~/assets/css/legend.css"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("rel", new global::Microsoft.AspNetCore.Html.HtmlString("stylesheet"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_2 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("type", new global::Microsoft.AspNetCore.Html.HtmlString("text/javascript"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_3 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("asp-cut-key", "demand-client", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper;
        private global::Web.Utils.TagHelperScriptCut __Web_Utils_TagHelperScriptCut;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("\n");
#nullable restore
#line 7 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
  
    var isRouteContract = Model.Model.Route.RouteTypeId == (await routeTypeServices.GetDataByExternalCode("CONTRATO"))?.RouteTypeId;
    var isRouteService = Model.Model.Route.RouteTypeId == (await routeTypeServices.GetDataByExternalCode("SERVICO"))?.RouteTypeId;

    var perDemandStatus = await contractPeriodicityServices.GetDataByExternalCode("PORDEMANDA");

    var editable = !Model.Model.Demand.Closed && !Model.Model.Demand.Cancel;

#line default
#line hidden
#nullable disable
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("link", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "28f82b88b213cb233b27a357cfe5a0afc6e60f015864", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral(@"

<div class=""row"" id=""demand-client-table-filter-area"">
    <div class=""col-md-2 form-group"">
        <label>Filtrar por situação</label>
        <select class=""form-control"" name=""SituationId"" onchange=""demandNotUsedClientTable.draw(); demandClientTable.draw();"">
            <option");
            BeginWriteAttribute("value", " value=\"", 1150, "\"", 1158, 0);
            EndWriteAttribute();
            WriteLiteral(@">Selecione</option>
            <option value=""1"">Regular</option>
            <option value=""2"">Coleta Atrasada</option>
            <option value=""3"">Inadimplente</option>
        </select>
    </div>
</div>


<div class=""row"">
    <div class=""col"">
        <div class=""table-responsive"">
            <table class=""table nowrap table-condensed table-bordered w-100 tablesizeline"" id=""demand-client-table"">
                <thead>
                    <tr style=""background: #a1a1a1; color: white;"">
                        <th colspan=""13"" class=""text-center"">Geradores Selecionados para Coleta</th>
                    </tr>
                    <tr style=""background: #a1a1a1; color: white;"">
");
#nullable restore
#line 39 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                         if (editable)
                        {

#line default
#line hidden
#nullable disable
            WriteLiteral("                            <td></td>\n");
#nullable restore
#line 42 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                        }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"                        <td style=""text-align:center"">Seq.</td>
                        <td style=""text-align:center"">Código</td>
                        <td style=""text-align:center"">Gerador</td>
                        <td style=""text-align:center"">Cidade</td>
                        <td style=""text-align:center"">Bairro</td>
                        <td style=""text-align:center"">Period</td>
                        <td style=""text-align:center"">Situação</td>
                        <td style=""text-align:center"">Últ. Visita</td>
                        <td style=""text-align:center"">Obs</td>
                        <td style=""text-align:center"">Últ. Coleta</td>
                        <td style=""text-align:center"">Obs</td>
");
#nullable restore
#line 54 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                         if (editable)
                        {

#line default
#line hidden
#nullable disable
            WriteLiteral("                            <td>&nbsp;</td>\n");
#nullable restore
#line 57 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                        }

#line default
#line hidden
#nullable disable
            WriteLiteral("                    </tr>\n                </thead>\n                <tbody>\n");
#nullable restore
#line 61 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                     foreach (var item in Model.Model.DemandClient.OrderBy(x => x.Order))
                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                        <tr data-address-id=\"");
#nullable restore
#line 63 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                        Write(item.ClientCollectionAddressId);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-contract-id=\"");
#nullable restore
#line 63 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                                                                            Write(isRouteContract? item.ContractId : (object)"");

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-service-id=\"");
#nullable restore
#line 63 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                                                                                                                                               Write(isRouteService? item.ServiceId : (object)"");

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-demand-client-id=\"");
#nullable restore
#line 63 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                                                                                                                                                                                                                     Write(item.DemandClientId);

#line default
#line hidden
#nullable disable
            WriteLiteral("\"");
            BeginWriteAttribute("style", " style=\"", 3291, "\"", 3331, 2);
            WriteAttributeValue("", 3299, "background-color:", 3299, 17, true);
#nullable restore
#line 63 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
WriteAttributeValue(" ", 3316, item.RowColor, 3317, 14, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\n");
#nullable restore
#line 64 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                             if (editable)
                            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                <td><i class=\"simple-icon-shuffle\"></i></td>\n");
#nullable restore
#line 67 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                            }

#line default
#line hidden
#nullable disable
            WriteLiteral("                            <td class=\"text-center\">");
#nullable restore
#line 68 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                               Write(item.Order);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\n                            <td data-time-to-demand=\"");
#nullable restore
#line 69 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                                Write(item.TimeToDemand);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" class=\"text-center\"><a data-disabledAll=\"false\"");
            BeginWriteAttribute("href", " href=\"", 3703, "\"", 3768, 1);
#nullable restore
#line 69 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
WriteAttributeValue("", 3710, Url.Action("Manage", "Client", new { id = item.ClientId}), 3710, 58, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" target=\"_blank\">");
#nullable restore
#line 69 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                                                                                                                                                                                      Write(item.ClientId);

#line default
#line hidden
#nullable disable
            WriteLiteral("</a></td>\n                            <td>");
#nullable restore
#line 70 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                           Write(item.CompanyName);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\n                            <td>");
#nullable restore
#line 71 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                           Write(item.City);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\n                            <td>");
#nullable restore
#line 72 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                           Write(item.Neighborhood);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\n");
#nullable restore
#line 73 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                             if (isRouteContract)
                            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                <td data-filter=\"");
#nullable restore
#line 75 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                            Write(item.PeriodicityId);

#line default
#line hidden
#nullable disable
            WriteLiteral("\">");
#nullable restore
#line 75 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                                                 Write(item.PeriodicityName);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\n");
#nullable restore
#line 76 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                            }
                            else
                            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                <td data-filter=\"");
#nullable restore
#line 79 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                            Write(perDemandStatus.ContractPeriodicityId);

#line default
#line hidden
#nullable disable
            WriteLiteral("\">");
#nullable restore
#line 79 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                                                                    Write(perDemandStatus.Name);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\n");
#nullable restore
#line 80 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                            }

#line default
#line hidden
#nullable disable
            WriteLiteral("                            <td data-filter=\"");
#nullable restore
#line 81 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                        Write(item.SituationId);

#line default
#line hidden
#nullable disable
            WriteLiteral("\">");
#nullable restore
#line 81 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                                           Write(item.SituationName);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\n                            <td>");
#nullable restore
#line 82 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                           Write(item._LastVisitedDate.IfNullChange("-"));

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\n                            <td>");
#nullable restore
#line 83 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                            Write(item.ClosedCollected.HasValue? (item.ClosedCollected.Value? $"Coletou MTR {item.ClosedDemandId}" : $"Não Coletou MRT {item.ClosedDemandId}") : "-");

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\n                            <td>");
#nullable restore
#line 84 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                           Write(item._LastCollectedDate.IfNullChange("-"));

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\n                            <td>");
#nullable restore
#line 85 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                            Write(item.ClosedCollected.HasValue? (item.ClosedCollected.Value? $"Coletou {item.ClosedTotalWeightCollected} Kg" : item.ClosedNonCollectingReason) : "-");

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\n");
#nullable restore
#line 86 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                             if (editable)
                            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                <td>\n                                    <div class=\"text-center\">\n");
#nullable restore
#line 90 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                         if (!item.Visited.HasValue)
                                        {
                                            

#line default
#line hidden
#nullable disable
            WriteLiteral("\n                                                <a href=\"javascript:void(0)\"");
            BeginWriteAttribute("onclick", " onclick=\"", 5417, "\"", 5607, 9);
            WriteAttributeValue("", 5427, "openSelectResidueFamilyModal(", 5427, 29, true);
#nullable restore
#line 93 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
WriteAttributeValue("", 5456, item.ClientCollectionAddressId, 5456, 31, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 5487, ",", 5487, 1, true);
#nullable restore
#line 93 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
WriteAttributeValue("", 5488, isRouteContract ? item.ContractId : (object)"null", 5488, 53, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 5541, ",", 5541, 1, true);
#nullable restore
#line 93 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
WriteAttributeValue(" ", 5542, isRouteService ? item.ServiceId : (object)"null", 5543, 51, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 5594, ",", 5594, 1, true);
            WriteAttributeValue(" ", 5595, "null,", 5596, 6, true);
            WriteAttributeValue(" ", 5601, "true)", 5602, 6, true);
            EndWriteAttribute();
            WriteLiteral(" title=\"Editar Família de Resíuos\" class=\"badge badge-pill badge-primary\"><i class=\"simple-icon-basket-loaded\"></i></a>\n                                                &nbsp;\n                                            ");
#nullable restore
#line 95 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                                   
                                        }

#line default
#line hidden
#nullable disable
            WriteLiteral("                                        <a href=\"javascript:void(0)\"");
            BeginWriteAttribute("onclick", " onclick=\"", 5945, "\"", 6008, 3);
            WriteAttributeValue("", 5955, "removeClientAddress(", 5955, 20, true);
#nullable restore
#line 97 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
WriteAttributeValue("", 5975, item.ClientCollectionAddressId, 5975, 31, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 6006, ");", 6006, 2, true);
            EndWriteAttribute();
            WriteLiteral(" title=\"Remover\" class=\"badge badge-pill badge-danger\"><i class=\"simple-icon-trash\"></i></a>\n                                    </div>\n                                </td>\n");
#nullable restore
#line 100 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                            }

#line default
#line hidden
#nullable disable
            WriteLiteral("                        </tr>\n");
#nullable restore
#line 102 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                    }

#line default
#line hidden
#nullable disable
            WriteLiteral("                </tbody>\n            </table>\n        </div>\n    </div>\n</div>\n");
#nullable restore
#line 108 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
 if (editable)
{

#line default
#line hidden
#nullable disable
            WriteLiteral(@"    <div class=""row"">
        <div class=""col form-group text-right"">
            <label class=""w-100"">&nbsp;</label>
            <button type=""button"" class=""btn btn-primary"" data-toggle=""modal"" data-target=""#demand-client-modal"">Incluir Gerador</button>
        </div>
    </div>
");
#nullable restore
#line 116 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
}

#line default
#line hidden
#nullable disable
            WriteLiteral(@"<div class=""row mb-4"" id=""demand-not-used-client-more-info-link"">
    <div class=""col-md-12 text-center mt-1"">
        <a href=""javascript:void(0)"" data-disabledAll=""false"" class=""badge badge-info"" onclick=""$('#demand-not-used-client-more-info-link').hide(); $('#demand-not-used-client-area').show(); $('#demand-not-used-client-table').DataTable().columns.adjust();""><i class=""simple-icon-arrow-down""></i>&nbsp;Visualizar Geradores não Selecionados</a>
    </div>
</div>
<div id=""demand-not-used-client-area"" style=""display:none;"">
    <hr />
    <div class=""row"">
        <div class=""col"">
            <div class=""table-responsive"">
                <table class=""table nowrap table-condensed table-bordered w-100 "" id=""demand-not-used-client-table"">
                    <thead>
                        <tr style=""background: #a1a1a1; color: white;"">
                            <th colspan=""11"" class=""text-center"">Geradores não Selecionados</th>
                        </tr>
                        <tr style=""background:");
            WriteLiteral(@" #a1a1a1; color: white;"">
                            <td style=""text-align:center"">Código</td>
                            <td style=""text-align:center"">Gerador</td>
                            <td style=""text-align:center"">Cidade</td>
                            <td style=""text-align:center"">Bairro</td>
                            <td style=""text-align:center"">Period</td>
                            <td style=""text-align:center"">Situação</td>
                            <td style=""text-align:center"">Últ. Visita</td>
                            <td style=""text-align:center"">Obs</td>
                            <td style=""text-align:center"">Últ Coleta</td>
                            <td style=""text-align:center"">Obs</td>
");
#nullable restore
#line 143 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                             if (editable)
                            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                <td>&nbsp;</td>\n");
#nullable restore
#line 146 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                            }

#line default
#line hidden
#nullable disable
            WriteLiteral("                        </tr>\n                    </thead>\n                    <tbody>\n");
#nullable restore
#line 150 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                         foreach (var item in Model.Model.DemandNotUsedClient)
                        {

#line default
#line hidden
#nullable disable
            WriteLiteral("                            <tr data-address-id=\"");
#nullable restore
#line 152 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                            Write(item.ClientCollectionAddressId);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-contract-id=\"");
#nullable restore
#line 152 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                                                                                Write(isRouteContract? item.ContractId : (object)"");

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-service-id=\"");
#nullable restore
#line 152 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                                                                                                                                                   Write(isRouteService? item.ServiceId : (object)"");

#line default
#line hidden
#nullable disable
            WriteLiteral("\"");
            BeginWriteAttribute("style", " style=\"", 8958, "\"", 8998, 2);
            WriteAttributeValue("", 8966, "background-color:", 8966, 17, true);
#nullable restore
#line 152 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
WriteAttributeValue(" ", 8983, item.RowColor, 8984, 14, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\n                                <td data-time-to-demand=\"");
#nullable restore
#line 153 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                                    Write(item.TimeToDemand);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" class=\"text-center\"><a data-disabledAll=\"false\"");
            BeginWriteAttribute("href", " href=\"", 9125, "\"", 9190, 1);
#nullable restore
#line 153 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
WriteAttributeValue("", 9132, Url.Action("Manage", "Client", new { id = item.ClientId}), 9132, 58, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" target=\"_blank\">");
#nullable restore
#line 153 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                                                                                                                                                                                          Write(item.ClientId);

#line default
#line hidden
#nullable disable
            WriteLiteral("</a></td>\n                                <td>");
#nullable restore
#line 154 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                               Write(item.CompanyName);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\n                                <td>");
#nullable restore
#line 155 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                               Write(item.City);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\n                                <td>");
#nullable restore
#line 156 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                               Write(item.Neighborhood);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\n");
#nullable restore
#line 157 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                 if (isRouteContract)
                                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                    <td data-filter=\"");
#nullable restore
#line 159 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                                Write(item.PeriodicityId);

#line default
#line hidden
#nullable disable
            WriteLiteral("\">");
#nullable restore
#line 159 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                                                     Write(item.PeriodicityName);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\n");
#nullable restore
#line 160 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                }
                                else
                                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                    <td data-filter=\"");
#nullable restore
#line 163 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                                Write(perDemandStatus.ContractPeriodicityId);

#line default
#line hidden
#nullable disable
            WriteLiteral("\">");
#nullable restore
#line 163 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                                                                        Write(perDemandStatus.Name);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\n");
#nullable restore
#line 164 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                }

#line default
#line hidden
#nullable disable
            WriteLiteral("                                <td data-filter=\"");
#nullable restore
#line 165 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                            Write(item.SituationId);

#line default
#line hidden
#nullable disable
            WriteLiteral("\">");
#nullable restore
#line 165 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                                               Write(item.SituationName);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\n                                <td>");
#nullable restore
#line 166 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                               Write(item._LastVisitedDate.IfNullChange("-"));

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\n                                <td>");
#nullable restore
#line 167 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                Write(item.ClosedCollected.HasValue? (item.ClosedCollected.Value? $"Coletou MTR {item.ClosedDemandId}" : $"Não Coletou MRT {item.ClosedDemandId}") : "-");

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\n                                <td>");
#nullable restore
#line 168 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                               Write(item._LastCollectedDate.IfNullChange("-"));

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\n                                <td>");
#nullable restore
#line 169 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                Write(item.ClosedCollected.HasValue? (item.ClosedCollected.Value? $"Coletou {item.ClosedTotalWeightCollected} Kg" : item.ClosedNonCollectingReason) : "-");

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\n");
#nullable restore
#line 170 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                 if (editable)
                                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                    <td>\n                                        <div class=\"text-center\">\n                                            <a href=\"javascript:void(0)\"");
            BeginWriteAttribute("onclick", " onclick=\"", 10753, "\"", 10816, 3);
            WriteAttributeValue("", 10763, "_setAddressInDemand(", 10763, 20, true);
#nullable restore
#line 174 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
WriteAttributeValue("", 10783, item.ClientCollectionAddressId, 10783, 31, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 10814, ");", 10814, 2, true);
            EndWriteAttribute();
            WriteLiteral(" class=\"badge badge-pill badge-success\" title=\"Selecionar\"><i class=\"simple-icon-plus\"></i></a>&nbsp;\n                                            <a");
            BeginWriteAttribute("href", " href=\"", 10965, "\"", 11043, 3);
            WriteAttributeValue("", 10972, "javascript:_removeNotUsedClientAddress(", 10972, 39, true);
#nullable restore
#line 175 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
WriteAttributeValue("", 11011, item.ClientCollectionAddressId, 11011, 31, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 11042, ")", 11042, 1, true);
            EndWriteAttribute();
            WriteLiteral(" class=\"badge badge-pill badge-danger\" title=\"Remover\"><i class=\"simple-icon-trash\"></i></a>\n                                        </div>\n                                    </td>\n");
#nullable restore
#line 178 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                }

#line default
#line hidden
#nullable disable
            WriteLiteral("                            </tr>\n");
#nullable restore
#line 180 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                        }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class=""col-md-12 text-center mb-5"">
        <a href=""javascript:void(0)"" data-disabledAll=""false"" class=""badge badge-info"" onclick=""$('#demand-not-used-client-more-info-link').show(); $('#demand-not-used-client-area').hide();""><i class=""simple-icon-arrow-up""></i>&nbsp;Esconder Geradores não Selecionados</a>
    </div>
</div>
<hr />
<div class=""row"">
    <div class=""col-12"">
        <div class=""card card-body tx-mutted bd-0"" style="" padding-bottom: 1px; padding-top: 7px;"">
            <div class=""row"" style=""padding: 5px;"">
                <div class=""col-12 col-md-3 legend"" style=""padding: 0;"">
                    <b style=""display: inline-flex; margin-bottom: 20px;"">Legendas</b>
                </div>
                <div class=""col-12 col-md-3 legend"">
                    <div style=""background: #8ccee6;""></div>
                    <label style=""margin-left:0;"">Coleta Atrasada</label>
                ");
            WriteLiteral(@"</div>
                <div class=""col-12 col-md-3 legend"">
                    <div style=""background: #f0a1a1;""></div>
                    <label>Inadimplente</label>
                </div>
                <div class=""col-12 col-md-3 legend"">
                    <div style=""background:white;""></div>
                    <label>Regular</label>
                </div>
            </div>
        </div><!-- card -->
    </div>
</div>
");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "28f82b88b213cb233b27a357cfe5a0afc6e60f0140270", async() => {
                WriteLiteral("\n    var addressFamilyName = [");
#nullable restore
#line 215 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                        Write(Html.Raw(Model.Model.GetJsonFamilyNames()));

#line default
#line hidden
#nullable disable
                WriteLiteral("], addressFamilyIds = [");
#nullable restore
#line 215 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                                                                          Write(Html.Raw(Model.Model.GetJsonFamilies()));

#line default
#line hidden
#nullable disable
                WriteLiteral(@"];
    $(document).ready(function () {
        if (typeof setFamilyNames == 'function') {
            setFamilyNames(addressFamilyName);
        }

        demandNotUsedClientTable = $('#demand-not-used-client-table').DataTable({
        serverSide: false,
            proccessing: true,
            searching: true,
            lengthChange: false,
            dom: 'tip',
            //scrollX: true,
            scrollY: '400px',
            scrollCollapse: true,
            paging: false,
            ordering: false
        });

        demandClientTable = $('#demand-client-table').DataTable({
            serverSide: false,
            proccessing: true,
            searching: true,
            lengthChange: false,
            dom: 'tip',
            //scrollX: true,
            scrollY: '400px',
            scrollCollapse: true,
            paging: false,
            ordering: false,
            columnDefs: [
                { orderable: true, className: 'text-center reorder', targets: 1 },
            ],
");
#nullable restore
#line 248 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
             if (editable)
            {
            

#line default
#line hidden
#nullable disable
                WriteLiteral("\n            rowReorder: { dataSrc: 1 },\n            ");
#nullable restore
#line 252 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                   
            }

#line default
#line hidden
#nullable disable
                WriteLiteral(@"            drawCallback: function () {
                $('#demand-manage-address-count').val($(this).DataTable().rows().count());

                //Atualza visualmente os numeros da coluna ""Sequência""
                $('#demand-client-table').DataTable().rows({ order: 'applied' }).nodes().each(function (e, i) {
                    var td = $(e).find('td')[1];
                    if (td != null) td.innerHTML = i + 1;
                });

                setTimeout(function () {
                    $('#demand-client-table').DataTable().columns.adjust();
                    $('#demand-not-used-client-table').DataTable().columns.adjust();
                }, 1); //atualiza a largura das colunas
            }
        });

        if (typeof setFamilyNames == 'function') {
            setFamilyNames(addressFamilyName);
        }
    });

    function removeClientAddress(addressId) {
        bootboxConfirm('Deseja realmente retirar este Gerador da Coleta?', function (d) {
            if (!d) return;

			var service");
                WriteLiteral(@"Id = $('#demand-client-table tr[data-address-id=""' + addressId + '""]').data('service-id')

			_setAddressInNotUsedClient(addressId, serviceId);

            demandClientTable.row($('#demand-client-table tr[data-address-id=""' + addressId + '""]')).remove();
            demandClientTable.draw();

            $('#demand-client-table').DataTable().columns.adjust();
        });
    }

    function _removeNotUsedClientAddress(addressId) {
        bootboxConfirm('Deseja realmente remover este Gerador?', function (d) {
            if (!d) return;

            removeNotUsedClientAddress(addressId);

            var index = addressFamilyIds.findIndex(x => x.clientCollectionAddressId == addressId);
            if (index != -1) addressFamilyIds.splice(index, 1);

            if (typeof setFamilyNames == 'function') {
                var names = [];
                addressFamilyIds.forEach(function (e, i) { names = names.concat(e.familyNames); });
                setFamilyNames(names);
            }
        });
    }

    ");
                WriteLiteral(@"function removeNotUsedClientAddress(addressId) {
        demandNotUsedClientTable.row($('#demand-not-used-client-table tr[data-address-id=""' + addressId + '""]')).remove();
        demandNotUsedClientTable.draw();

        $('#demand-not-used-client-table').DataTable().columns.adjust();
    }

    $('#demand-client-modal').on('shown.bs.modal', function () {
        $('#client-selection-search').val('');

        if (demandClientAddTable != null) {
            demandClientAddTable.rows().remove();
            demandClientAddTable.draw();
        }
    });


	function _setAddressInNotUsedClient(clientCollectionAddressId, alternativeServiceId) {
        if ($('#demand-not-used-client-table tr[data-address-id=""' + clientCollectionAddressId + '""]').length > 0) {
            return;
        }

        var p = [];
        p.push({ name: 'ClientCollectionAddressIds.Index', value: 1 });
        p.push({ name: 'ClientCollectionAddressIds[' + 1 + ']', value: clientCollectionAddressId });

		setAddressInNotUsedClient(p, a");
                WriteLiteral("lternativeServiceId);\n    }\n\n\tfunction setAddressInNotUsedClient(p, alternativeServiceId)\n    {\n        $.post(\'");
#nullable restore
#line 338 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
           Write(Url.Action("GetClientAddresses", "Demand"));

#line default
#line hidden
#nullable disable
                WriteLiteral(@"', p, function (d) {
            $.each(d, function (i, e) {
                if ($('#demand-not-used-client-table tr[data-address-id=""' + e.clientCollectionAddressId + '""]').length > 0) return;

				var serviceId = e.serviceId;
				if (alternativeServiceId != null) {
					serviceId = alternativeServiceId;
				}


                var r = $('#demand-not-used-client-table').DataTable().row.add(
                    $('<tr>').append(
                        $('<td>', { 'data-time-to-demand': e.timeToDemand, class: 'text-center' }).append('<a href=""");
#nullable restore
#line 350 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                                                                                               Write(Url.Action("Manage","Client"));

#line default
#line hidden
#nullable disable
                WriteLiteral("?id=\' + e.clientId + \'\" target=\"_blank\">\' + e.clientId + \'</a>\'),\n                        $(\'<td>\').append(e.companyName),\n                        $(\'<td>\').append(e.city),\n                        $(\'<td>\').append(e.neighborhood),\n");
#nullable restore
#line 354 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                         if (isRouteContract)
                        {
                            

#line default
#line hidden
#nullable disable
                WriteLiteral("$(\'<td>\', { \'data-filter\': e.periodicityId }).append(e.periodicityName),");
#nullable restore
#line 356 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                                                                                                 
                        }
                        else
                        {
                            

#line default
#line hidden
#nullable disable
                WriteLiteral("$(\'<td>\', { \'data-filter\': \'");
#nullable restore
#line 360 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                                         Write(perDemandStatus.ContractPeriodicityId);

#line default
#line hidden
#nullable disable
                WriteLiteral("\' }).append(\'");
#nullable restore
#line 360 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                                                                                            Write(perDemandStatus.Name);

#line default
#line hidden
#nullable disable
                WriteLiteral("\'),");
#nullable restore
#line 360 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                                                                                                                                
                        }

#line default
#line hidden
#nullable disable
                WriteLiteral(@"                        $('<td>', { 'data-filter': e.situationId }).append(e.situationName),
                        $('<td>').append(isNull(e._LastVisitedDate, '-')),
                        $('<td>').append(e.closedCollected != null ? (e.closedCollected == true ? 'Coletou MTR ' + e.closedDemandId : 'Não Coletou MRT ' + e.closedDemandId) : ""-""),
                        $('<td>').append(isNull(e._LastCollectedDate, '-')),
                        $('<td>').append(e.closedCollected != null ? (e.closedCollected == true ? 'Coletou ' + e.closedTotalWeightCollected + 'Kg' : e.closedNonCollectingReason) : ""-""),
						$('<td>').append('<div class=""text-center""><a href=""javascript:void(0)"" onclick=""_setAddressInDemand(' + e.clientCollectionAddressId + ', ' + isNull(alternativeServiceId, 'null') + ');"" class=""badge badge-pill badge-success"" title=""Selecionar""><i class=""simple-icon-plus""></i></a>&nbsp;<a href=""javascript:_removeNotUsedClientAddress(' + e.clientCollectionAddressId + ')"" class=""badge badge-pill badge-dang");
                WriteLiteral(@"er"" title=""Remover""><i class=""simple-icon-trash""></i></a></div>')
                    )
                );

                $(r.node()).css('background-color', e.rowColor);

                $(r.node()).attr('data-address-id', e.clientCollectionAddressId);
                ");
#nullable restore
#line 374 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
            Write(!isRouteContract? "" : (object)Html.Raw("$(r.node()).attr('data-contract-id', e.contractId);"));

#line default
#line hidden
#nullable disable
                WriteLiteral("\n                ");
#nullable restore
#line 375 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
            Write(!isRouteService? "" : (object)Html.Raw("$(r.node()).attr('data-service-id', serviceId);"));

#line default
#line hidden
#nullable disable
                WriteLiteral(@"
            });

            $('#demand-not-used-client-table').DataTable().draw();
            $('#demand-not-used-client-table').DataTable().columns.adjust();

            if (typeof _setSelectedClientAsUnselectable == 'function') _setSelectedClientAsUnselectable();//desabilita os checkbox selecionados

            $('#demand-client-modal').modal('hide');
        });
    }

	function _setAddressInDemand(clientCollectionAddressId, alternativeServiceId) {
        if ($('#demand-client-table tr[data-address-id=""' + clientCollectionAddressId + '""]').length > 0) {
            bootbox.alert('Este gerador já foi adicionado.');
            return;
        }

        removeNotUsedClientAddress(clientCollectionAddressId);

        var p = [];
        p.push({ name: 'ClientCollectionAddressIds.Index', value: 1 });
        p.push({ name: 'ClientCollectionAddressIds[' + 1 + ']', value: clientCollectionAddressId });

		if (typeof orderServicesSelected != 'undefined') {
			orderServicesSelected = alternativeServiceId;
		");
                WriteLiteral("}\n\n        setAddressInDemand(p);\n    }\n\n    function setAddressInDemand(p)\n    {\n        var index = $(\'#demand-client-table\').DataTable().rows().count() + 1;\n        $.post(\'");
#nullable restore
#line 409 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
           Write(Url.Action("GetClientAddresses", "Demand"));

#line default
#line hidden
#nullable disable
                WriteLiteral(@"', p, function (d) {
            $.each(d, function (i, e) {
                var isContract = e.contractId != null;

                if ($('#demand-client-table tr[data-address-id=""' + e.clientCollectionAddressId + '""]').length > 0) return;

                var serviceId = e.serviceId;
				if (typeof orderServicesSelected != 'undefined' && orderServicesSelected != null) {
                    serviceId = orderServicesSelected;
				}

                var r = $('#demand-client-table').DataTable().row.add(
                    $('<tr>').append(
                        $('<td>', { 'data-time-to-demand': e.timeToDemand }).append('<i class=""simple-icon-shuffle""></i>'),
                        $('<td>').append(index + i),
                        $('<td>', { 'data-time-to-demand': e.timeToDemand, class: 'text-center' }).append('<a href=""");
#nullable restore
#line 424 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                                                                                               Write(Url.Action("Manage","Client"));

#line default
#line hidden
#nullable disable
                WriteLiteral("?id=\' + e.clientId + \'\" target=\"_blank\">\' + e.clientId + \'</a>\'),\n                        $(\'<td>\').append(e.companyName),\n                        $(\'<td>\').append(e.city),\n                        $(\'<td>\').append(e.neighborhood),\n");
#nullable restore
#line 428 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                         if (isRouteContract)
                        {
                            

#line default
#line hidden
#nullable disable
                WriteLiteral("$(\'<td>\', { \'data-filter\': e.periodicityId }).append(e.periodicityName),");
#nullable restore
#line 430 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                                                                                                 
                        }
                        else
                        {
                            

#line default
#line hidden
#nullable disable
                WriteLiteral("$(\'<td>\', { \'data-filter\': \'");
#nullable restore
#line 434 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                                         Write(perDemandStatus.ContractPeriodicityId);

#line default
#line hidden
#nullable disable
                WriteLiteral("\' }).append(\'");
#nullable restore
#line 434 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                                                                                            Write(perDemandStatus.Name);

#line default
#line hidden
#nullable disable
                WriteLiteral("\'),");
#nullable restore
#line 434 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                                                                                                                                                
                        }

#line default
#line hidden
#nullable disable
                WriteLiteral(@"                        $('<td>', { 'data-filter': e.situationId }).append(e.situationName),
                        $('<td>').append(isNull(e._LastVisitedDate, '-')),
                        $('<td>').append(e.closedCollected != null ? (e.closedCollected == true ? 'Coletou MTR ' + e.closedDemandId : 'Não Coletou MRT ' + e.closedDemandId) : ""-""),
                        $('<td>').append(isNull(e._LastCollectedDate, '-')),
                        $('<td>').append(e.closedCollected != null ? (e.closedCollected == true ? 'Coletou ' + e.closedTotalWeightCollected + 'Kg' : e.closedNonCollectingReason) : ""-""),
                        $('<td>').append('<div class=""text-center""><a href=""javascript:void(0)"" onclick=""removeClientAddress(' + e.clientCollectionAddressId + ');"" class=""badge badge-pill badge-danger"" title=""Desvincular""><i class=""simple-icon-trash""></i></a></div>')
                    )
                );

                $(r.node()).css('background-color', e.rowColor);

                $(r.node()).attr('da");
                WriteLiteral("ta-address-id\', e.clientCollectionAddressId);\n                ");
#nullable restore
#line 448 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
            Write(!isRouteContract? "" : (object)Html.Raw("$(r.node()).attr('data-contract-id', e.contractId);"));

#line default
#line hidden
#nullable disable
                WriteLiteral("\n                ");
#nullable restore
#line 449 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
            Write(!isRouteService? "" : (object)Html.Raw("$(r.node()).attr('data-service-id', serviceId);"));

#line default
#line hidden
#nullable disable
                WriteLiteral(@"
            });

            $('#demand-client-table').DataTable().draw();
            $('#demand-client-table').DataTable().columns.adjust();

            if (typeof _setSelectedClientAsUnselectable == 'function') _setSelectedClientAsUnselectable();//desabilita os checkbox selecionados

            $('#demand-client-modal').modal('hide');
        });
    }

    function _setSelectedClientAsUnselectable() {
        if (typeof setSelectedClientAsUnselectable != 'function') return;

        setSelectedClientAsUnselectable($.distinct($('#demand-client-table tr[data-address-id], #demand-not-used-client-area tr[data-address-id]').map(function (i, e) {
            return {
                addressId: $(e).data('address-id')
            }
        }).toArray()));
    }

    $.fn.dataTable.ext.search.push(
        function (settings, data, dataIndex) {
            if (settings.sInstance != ""demand-not-used-client-table"" && settings.sInstance != ""demand-client-table"") return true;

            var columnId = settings.s");
                WriteLiteral(@"Instance == ""demand-not-used-client-table"" ? 5 : 7;

            var situation = $('#demand-client-table-filter-area [name=""SituationId""]').val();
            //var timeToDemand = $('#demand-client-table-filter-area [name=""TimeToDemand""]').val();
            var r = true;

            r = isNullOrWhiteSpace(situation) || situation == $(settings.aoData[dataIndex].anCells[columnId]).data('filter');
            //r = r && (isNullOrWhiteSpace(timeToDemand) || timeToDemand == $(settings.aoData[dataIndex].anCells[0]).data('time-to-demand'));

            return r;
        }
    );

    function saveOrderServiceAndOpenSelectResidueFamilyModal() {
        if ($('[type=""checkbox""][data-selection-service-id]:checked').length == 0) {
            bootbox.alert('Selecione a Ordem de Serviço.');
            return;
        }

        $('#demand-client-so-select-modal').modal('hide');
		$('#demand-client-so-select-modal').attr('not-open-demand-client-modal', true);

        //salvar O.S

        openSelectResidueFamilyModal");
                WriteLiteral(@"();
    }

    function selectResiudeFamilies() {
        var residueFamilyIds = [];
        $('#route-client-families-selection-table input[type=""checkbox""][data-family-id]:checked').each(function (i, e) {
            residueFamilyIds.push($(e).data('family-id'));
        });

        $.post('");
#nullable restore
#line 508 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
           Write(Url.Action("DemandClientInsertionValidateFamilies", "Demand"));

#line default
#line hidden
#nullable disable
                WriteLiteral(@"', { residueFamilyIds }, function (d) {//validação das famílias de acordo com agrupamento
            if (d.hasError) {
                var message = 'Houve um erro ao adicionar as familías de resíduos:<br/><br/><table class=""table table-bordered table-striped""><tr><td>Erro(s)</td></tr>';
                $.each(d.data, function (i, error) { message += '<tr><td>' + error + '</td></tr>'; });
                message += '</table>';

                bootbox.alert(message);
                return;
            }
            _selectResidueFamiliesCallback();
        });
    }
");
            }
            );
            __Web_Utils_TagHelperScriptCut = CreateTagHelper<global::Web.Utils.TagHelperScriptCut>();
            __tagHelperExecutionContext.Add(__Web_Utils_TagHelperScriptCut);
#nullable restore
#line 214 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
__Web_Utils_TagHelperScriptCut.LoadFromController = Model.LoadFromController;

#line default
#line hidden
#nullable disable
            __tagHelperExecutionContext.AddTagHelperAttribute("asp-cut-key-load-from-controller", __Web_Utils_TagHelperScriptCut.LoadFromController, global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_2);
            __Web_Utils_TagHelperScriptCut.CutKey = (string)__tagHelperAttribute_3.Value;
            __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_3);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral(@"

<div class=""modal fade"" id=""demand-client-modal"" tabindex=""-1"" role=""dialog"" aria-labelledby=""demand-client-modal-title"" aria-hidden=""true"">
    <div class=""modal-dialog modal-dialog-centered modal-lg"" role=""document"">
        <div class=""modal-content"">
            <div class=""modal-header"">
                <h5 class=""modal-title tx-14 mg-b-0 tx-uppercase tx-inverse tx-bold"" id=""demand-client-modal-title"">Adicionar Geradores</h5>
                <button type=""button"" class=""close"" data-dismiss=""modal"" aria-label=""Close"">
                    <span aria-hidden=""true"">&times;</span>
                </button>
            </div>
            <div class=""modal-body"">
                ");
#nullable restore
#line 532 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
            Write(await Component.InvokeAsync<Web.ViewComponents.Demand.DemandClientSelectionViewComponent>(new { Model.Model.Demand.RouteId, loadFromController = Model.LoadFromController }));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
            </div>
            <div class=""modal-footer"" style=""display:block;"">
                <button type=""button"" class=""btn btn-secondary"" data-dismiss=""modal""><i class=""simple-icon-close""></i>&nbsp;Fechar</button>
                <button type=""button"" class=""btn btn-success float-right"" onclick=""openSelectResidueFamilyModal()"">Avançar</button>
");
#nullable restore
#line 537 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                 if (isRouteService)
                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                    <button type=\"button\" class=\"btn btn-success float-right mr-1\" onclick=\"openSelectOSModal()\">Avançar e escolher O.S.</button>\n");
#nullable restore
#line 540 "C:\repositorios\DestineJaPlatform\Application\Web\Views\Shared\Components\DemandClient\Default.cshtml"
                }
                

#line default
#line hidden
#nullable disable
            WriteLiteral(@"            </div>
        </div>
    </div>
</div>

<div class=""modal fade"" id=""demand-client-family-modal"" tabindex=""-1"" role=""dialog"" aria-labelledby=""demand-client-family-modal-title"" aria-hidden=""true"">
    <div class=""modal-dialog modal-dialog-centered modal-lg"" role=""document"">
        <div class=""modal-content"">
            <div class=""modal-header"">
                <h5 class=""modal-title tx-14 mg-b-0 tx-uppercase tx-inverse tx-bold"" id=""demand-client-modal-title"">Familía de Residuos</h5>
                <button type=""button"" class=""close"" data-dismiss=""modal"" aria-label=""Close"">
                    <span aria-hidden=""true"">&times;</span>
                </button>
            </div>
            <div class=""modal-body"">
                <div id=""route-residue-family-view-component""></div>
            </div>
            <div class=""modal-footer"">
                <button class=""btn btn-success"" type=""button"" onclick=""selectResiudeFamilies()"" id=""demand-client-family-modal-save-button"">Incluir Gerador</but");
            WriteLiteral(@"ton>
            </div>
        </div>
    </div>
</div>

<div class=""modal fade"" id=""demand-client-so-select-modal"" tabindex=""-1"" role=""dialog"" aria-labelledby=""demand-client-so-select-modal-title"" aria-hidden=""true"">
    <div class=""modal-dialog modal-dialog-centered modal-md w-100"" role=""document"">
        <div class=""modal-content"">
            <div class=""modal-header"">
                <h5 class=""modal-title tx-14 mg-b-0 tx-uppercase tx-inverse tx-bold"" id=""demand-client-so-select-modal-title"">Ordem de Serviços</h5>
                <button type=""button"" class=""close"" data-dismiss=""modal"" aria-label=""Close"">
                    <span aria-hidden=""true"">&times;</span>
                </button>
            </div>
            <div class=""modal-body w-100"">
                <div id=""demand-client-so-select-view-component""></div>
            </div>
            <div class=""modal-footer"">
                <button class=""btn btn-success"" type=""button"" onclick=""saveOrderServiceAndOpenSelectResidueFamilyModal()"">Avan");
            WriteLiteral("çar</button>\n            </div>\n        </div>\n    </div>\n</div>");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public Services.Contract.ContractPeriodicityServices contractPeriodicityServices { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public Services.Residue.ResidueFamilyServices residueFamilyServices { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public Services.Demand.DemandResidueFamilyServices demandResidueFamilyServices { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public Services.Route.RouteTypeServices routeTypeServices { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<DTO.Shared.EntityViewMode<DTO.Demand.DemandClientManageViewModel>> Html { get; private set; }
    }
}
#pragma warning restore 1591
